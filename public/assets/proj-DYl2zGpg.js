function It(n,t,r){return Math.min(Math.max(n,t),r)}function Rt(n,t,r,s,o,c){const i=o-r,a=c-s;if(i!==0||a!==0){const e=((n-r)*i+(t-s)*a)/(i*i+a*a);e>1?(r=o,s=c):e>0&&(r+=i*e,s+=a*e)}return Nn(n,t,r,s)}function Nn(n,t,r,s){const o=r-n,c=s-t;return o*o+c*c}function Ct(n){const t=n.length;for(let s=0;s<t;s++){let o=s,c=Math.abs(n[s][s]);for(let a=s+1;a<t;a++){const e=Math.abs(n[a][s]);e>c&&(c=e,o=a)}if(c===0)return null;const i=n[o];n[o]=n[s],n[s]=i;for(let a=s+1;a<t;a++){const e=-n[a][s]/n[s][s];for(let f=s;f<t+1;f++)s==f?n[a][f]=0:n[a][f]+=e*n[s][f]}}const r=new Array(t);for(let s=t-1;s>=0;s--){r[s]=n[s][t]/n[s][s];for(let o=s-1;o>=0;o--)n[o][t]-=n[o][s]*r[s]}return r}function sn(n){return n*180/Math.PI}function R(n){return n*Math.PI/180}function wn(n,t){const r=n%t;return r*t<0?r+t:r}function Gt(n,t,r){return n+r*(t-n)}function J(n,t){const r=Math.pow(10,t);return Math.round(n*r)/r}function Ut(n,t){return Math.floor(J(n,t))}function yt(n,t){return Math.ceil(J(n,t))}function v(n,t,r){if(n>=t&&n<r)return n;const s=r-t;return((n-t)%s+s)%s+t}const E={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function At(n){const t=Pn();for(let r=0,s=n.length;r<s;++r)bn(t,n[r]);return t}function Ot(n,t,r){return r?(r[0]=n[0]-t,r[1]=n[1]-t,r[2]=n[2]+t,r[3]=n[3]+t,r):[n[0]-t,n[1]-t,n[2]+t,n[3]+t]}function Ft(n,t){return t?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t):n.slice()}function Nt(n,t,r){let s,o;return t<n[0]?s=n[0]-t:n[2]<t?s=t-n[2]:s=0,r<n[1]?o=n[1]-r:n[3]<r?o=r-n[3]:o=0,s*s+o*o}function Lt(n,t){return Ln(n,t[0],t[1])}function bt(n,t){return n[0]<=t[0]&&t[2]<=n[2]&&n[1]<=t[1]&&t[3]<=n[3]}function Ln(n,t,r){return n[0]<=t&&t<=n[2]&&n[1]<=r&&r<=n[3]}function on(n,t){const r=n[0],s=n[1],o=n[2],c=n[3],i=t[0],a=t[1];let e=E.UNKNOWN;return i<r?e=e|E.LEFT:i>o&&(e=e|E.RIGHT),a<s?e=e|E.BELOW:a>c&&(e=e|E.ABOVE),e===E.UNKNOWN&&(e=E.INTERSECTING),e}function Pn(){return[1/0,1/0,-1/0,-1/0]}function Q(n,t,r,s,o){return o?(o[0]=n,o[1]=t,o[2]=r,o[3]=s,o):[n,t,r,s]}function Tn(n){return Q(1/0,1/0,-1/0,-1/0,n)}function Wt(n,t){const r=n[0],s=n[1];return Q(r,s,r,s,t)}function Xt(n,t,r,s,o){const c=Tn(o);return Wn(c,n,t,r,s)}function Dt(n,t){return n[0]==t[0]&&n[2]==t[2]&&n[1]==t[1]&&n[3]==t[3]}function $t(n,t){return t[0]<n[0]&&(n[0]=t[0]),t[2]>n[2]&&(n[2]=t[2]),t[1]<n[1]&&(n[1]=t[1]),t[3]>n[3]&&(n[3]=t[3]),n}function bn(n,t){t[0]<n[0]&&(n[0]=t[0]),t[0]>n[2]&&(n[2]=t[0]),t[1]<n[1]&&(n[1]=t[1]),t[1]>n[3]&&(n[3]=t[1])}function Wn(n,t,r,s,o){for(;r<s;r+=o)Xn(n,t[r],t[r+1]);return n}function Xn(n,t,r){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],r),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],r)}function qt(n,t){let r;return r=t(mn(n)),r||(r=t(Sn(n)),r)||(r=t(In(n)),r)||(r=t(_n(n)),r)?r:!1}function Bt(n){let t=0;return Hn(n)||(t=y(n)*qn(n)),t}function mn(n){return[n[0],n[1]]}function Sn(n){return[n[2],n[1]]}function Dn(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function Ht(n,t){let r;if(t==="bottom-left")r=mn(n);else if(t==="bottom-right")r=Sn(n);else if(t==="top-left")r=_n(n);else if(t==="top-right")r=In(n);else throw new Error("Invalid corner");return r}function Yt(n,t,r,s,o){const[c,i,a,e,f,l,g,u]=$n(n,t,r,s);return Q(Math.min(c,a,f,g),Math.min(i,e,l,u),Math.max(c,a,f,g),Math.max(i,e,l,u),o)}function $n(n,t,r,s){const o=t*s[0]/2,c=t*s[1]/2,i=Math.cos(r),a=Math.sin(r),e=o*i,f=o*a,l=c*i,g=c*a,u=n[0],h=n[1];return[u-e+g,h-f-l,u-e-g,h-f+l,u+e-g,h+f+l,u+e+g,h+f-l,u-e+g,h-f-l]}function qn(n){return n[3]-n[1]}function Vt(n,t,r){const s=r||Pn();return Bn(n,t)?(n[0]>t[0]?s[0]=n[0]:s[0]=t[0],n[1]>t[1]?s[1]=n[1]:s[1]=t[1],n[2]<t[2]?s[2]=n[2]:s[2]=t[2],n[3]<t[3]?s[3]=n[3]:s[3]=t[3]):Tn(s),s}function _n(n){return[n[0],n[3]]}function In(n){return[n[2],n[3]]}function y(n){return n[2]-n[0]}function Bn(n,t){return n[0]<=t[2]&&n[2]>=t[0]&&n[1]<=t[3]&&n[3]>=t[1]}function Hn(n){return n[2]<n[0]||n[3]<n[1]}function vt(n,t){return t?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t):n}function zt(n,t,r){let s=!1;const o=on(n,t),c=on(n,r);if(o===E.INTERSECTING||c===E.INTERSECTING)s=!0;else{const i=n[0],a=n[1],e=n[2],f=n[3],l=t[0],g=t[1],u=r[0],h=r[1],d=(h-g)/(u-l);let w,P;c&E.ABOVE&&!(o&E.ABOVE)&&(w=u-(h-f)/d,s=w>=i&&w<=e),!s&&c&E.RIGHT&&!(o&E.RIGHT)&&(P=h-(u-e)*d,s=P>=a&&P<=f),!s&&c&E.BELOW&&!(o&E.BELOW)&&(w=u-(h-a)/d,s=w>=i&&w<=e),!s&&c&E.LEFT&&!(o&E.LEFT)&&(P=h-(u-i)*d,s=P>=a&&P<=f)}return s}function Yn(n,t){const r=t.getExtent(),s=Dn(n);if(t.canWrapX()&&(s[0]<r[0]||s[0]>=r[2])){const o=y(r),i=Math.floor((s[0]-r[0])/o)*o;n[0]-=i,n[2]-=i}return n}function Kt(n,t,r){if(t.canWrapX()){const s=t.getExtent();if(!isFinite(n[0])||!isFinite(n[2]))return[[s[0],n[1],s[2],n[3]]];Yn(n,t);const o=y(s);if(y(n)>o&&!r)return[[s[0],n[1],s[2],n[3]]];if(n[0]<s[0])return[[n[0]+o,n[1],s[2],n[3]],[s[0],n[1],n[2],n[3]]];if(n[2]>s[2])return[[n[0],n[1],s[2],n[3]],[s[0],n[1],n[2]-o,n[3]]]}return[n]}function cn(n,t,r){const s=r!==void 0?n.toFixed(r):""+n;let o=s.indexOf(".");return o=o===-1?s.length:o,o>t?s:new Array(1+t-o).join("0")+s}function kt(n,t){return n[0]+=+t[0],n[1]+=+t[1],n}function an(n,t,r){const s=wn(t+180,360)-180,o=Math.abs(3600*s),c=0;let i=Math.floor(o/3600),a=Math.floor((o-i*3600)/60),e=J(o-i*3600-a*60,c);e>=60&&(e=0,a+=1),a>=60&&(a=0,i+=1);let f=i+"°";return(a!==0||e!==0)&&(f+=" "+cn(a,2)+"′"),e!==0&&(f+=" "+cn(e,2,c)+"″"),s!==0&&(f+=" "+n.charAt(s<0?1:0)),f}function Vn(n,t){let r=!0;for(let s=n.length-1;s>=0;--s)if(n[s]!=t[s]){r=!1;break}return r}function Jt(n,t){const r=Math.cos(t),s=Math.sin(t),o=n[0]*r-n[1]*s,c=n[1]*r+n[0]*s;return n[0]=o,n[1]=c,n}function Qt(n,t){return n[0]*=t,n[1]*=t,n}function Zt(n,t){return n?an("NS",n[1])+" "+an("EW",n[0]):""}function jt(n,t){if(t.canWrapX()){const r=y(t.getExtent()),s=vn(n,t,r);s&&(n[0]-=s*r)}return n}function vn(n,t,r){const s=t.getExtent();let o=0;return t.canWrapX()&&(n[0]<s[0]||n[0]>s[2])&&(r=r||y(s),o=Math.floor((n[0]-s[0])/r)),o}const zn=63710088e-1;function en(n,t,r){r=r||zn;const s=R(n[1]),o=R(t[1]),c=(o-s)/2,i=R(t[0]-n[0])/2,a=Math.sin(c)*Math.sin(c)+Math.sin(i)*Math.sin(i)*Math.cos(s)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function Kn(...n){console.warn(...n)}const kn={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Z{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||kn[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const L=6378137,G=Math.PI*L,Jn=[-G,-G,G,G],Qn=[-180,-85,180,85],X=L*Math.log(Math.tan(Math.PI/2));class C extends Z{constructor(t){super({code:t,units:"m",extent:Jn,global:!0,worldExtent:Qn,getPointResolution:function(r,s){return r/Math.cosh(s[1]/L)}})}}const fn=[new C("EPSG:3857"),new C("EPSG:102100"),new C("EPSG:102113"),new C("EPSG:900913"),new C("http://www.opengis.net/def/crs/EPSG/0/3857"),new C("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Zn(n,t,r,s){const o=n.length;r=r>1?r:2,s=s??r,t===void 0&&(r>2?t=n.slice():t=new Array(o));for(let c=0;c<o;c+=s){t[c]=G*n[c]/180;let i=L*Math.log(Math.tan(Math.PI*(+n[c+1]+90)/360));i>X?i=X:i<-X&&(i=-X),t[c+1]=i}return t}function jn(n,t,r,s){const o=n.length;r=r>1?r:2,s=s??r,t===void 0&&(r>2?t=n.slice():t=new Array(o));for(let c=0;c<o;c+=s)t[c]=180*n[c]/G,t[c+1]=360*Math.atan(Math.exp(n[c+1]/L))/Math.PI-90;return t}const pn=6378137,un=[-180,-90,180,90],xn=Math.PI*pn/180;class _ extends Z{constructor(t,r){super({code:t,units:"degrees",extent:un,axisOrientation:r,global:!0,metersPerUnit:xn,worldExtent:un})}}const ln=[new _("CRS:84"),new _("EPSG:4326","neu"),new _("urn:ogc:def:crs:OGC:1.3:CRS84"),new _("urn:ogc:def:crs:OGC:2:84"),new _("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new _("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new _("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let z={};function nt(n){return z[n]||z[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function tt(n,t){z[n]=t}let U={};function N(n,t,r){const s=n.getCode(),o=t.getCode();s in U||(U[s]={}),U[s][o]=r}function Y(n,t){return n in U&&t in U[n]?U[n][t]:null}const D=.9996,M=.00669438,q=M*M,B=q*M,I=M/(1-M),hn=Math.sqrt(1-M),A=(1-hn)/(1+hn),Rn=A*A,j=Rn*A,p=j*A,Cn=p*A,Gn=1-M/4-3*q/64-5*B/256,rt=3*M/8+3*q/32+45*B/1024,st=15*q/256+45*B/1024,ot=35*B/3072,ct=3/2*A-27/32*j+269/512*Cn,it=21/16*Rn-55/32*p,at=151/96*j-417/128*Cn,et=1097/512*p,$=6378137;function ft(n,t,r){const s=n-5e5,i=(r.north?t:t-1e7)/D/($*Gn),a=i+ct*Math.sin(2*i)+it*Math.sin(4*i)+at*Math.sin(6*i)+et*Math.sin(8*i),e=Math.sin(a),f=e*e,l=Math.cos(a),g=e/l,u=g*g,h=u*u,d=1-M*f,w=Math.sqrt(1-M*f),P=$/w,b=(1-M)/d,T=I*l**2,O=T*T,m=s/(P*D),W=m*m,F=W*m,tn=F*m,rn=tn*m,On=rn*m,Fn=a-g/b*(W/2-tn/24*(5+3*u+10*T-4*O-9*I))+On/720*(61+90*u+298*T+45*h-252*I-3*O);let H=(m-F/6*(1+2*u+T)+rn/120*(5-2*T+28*u-3*O+8*I+24*h))/l;return H=v(H+R(Un(r.number)),-Math.PI,Math.PI),[sn(H),sn(Fn)]}const gn=-80,En=84,ut=-180,lt=180;function ht(n,t,r){n=v(n,ut,lt),t<gn?t=gn:t>En&&(t=En);const s=R(t),o=Math.sin(s),c=Math.cos(s),i=o/c,a=i*i,e=a*a,f=R(n),l=Un(r.number),g=R(l),u=$/Math.sqrt(1-M*o**2),h=I*c**2,d=c*v(f-g,-Math.PI,Math.PI),w=d*d,P=w*d,b=P*d,T=b*d,O=T*d,m=$*(Gn*s-rt*Math.sin(2*s)+st*Math.sin(4*s)-ot*Math.sin(6*s)),W=D*u*(d+P/6*(1-a+h)+T/120*(5-18*a+e+72*h-58*I))+5e5;let F=D*(m+u*i*(w/2+b/24*(5-a+9*h+4*h**2)+O/720*(61-58*a+e+600*h-330*I)));return r.north||(F+=1e7),[W,F]}function Un(n){return(n-1)*6-180+3}const gt=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function yn(n){let t=0;for(const o of gt){const c=n.match(o);if(c){t=parseInt(c[1]);break}}if(!t)return null;let r=0,s=!1;return t>32700&&t<32761?r=t-32700:t>32600&&t<32661&&(s=!0,r=t-32600),r?{number:r,north:s}:null}function dn(n,t){return function(r,s,o,c){const i=r.length;o=o>1?o:2,c=c??o,s||(o>2?s=r.slice():s=new Array(i));for(let a=0;a<i;a+=c){const e=r[a],f=r[a+1],l=n(e,f,t);s[a]=l[0],s[a+1]=l[1]}return s}}function Et(n){return yn(n)?new Z({code:n,units:"m"}):null}function dt(n){const t=yn(n.getCode());return t?{forward:dn(ht,t),inverse:dn(ft,t)}:null}const Mt=[dt],wt=[Et];let K=!0;function Pt(n){K=!1}function x(n,t){if(t!==void 0){for(let r=0,s=n.length;r<s;++r)t[r]=n[r];t=t}else t=n.slice();return t}function k(n){tt(n.getCode(),n),N(n,n,x)}function Tt(n){n.forEach(k)}function S(n){if(typeof n!="string")return n;const t=nt(n);if(t)return t;for(const r of wt){const s=r(n);if(s)return s}return null}function pt(n,t,r,s){n=S(n);let o;const c=n.getPointResolutionFunc();if(c)o=c(t,r);else{const i=n.getUnits();if(i=="degrees"||s=="degrees")o=t;else{const a=nn(n,S("EPSG:4326"));if(!a&&i!=="degrees")o=t*n.getMetersPerUnit();else{let f=[r[0]-t/2,r[1],r[0]+t/2,r[1],r[0],r[1]-t/2,r[0],r[1]+t/2];f=a(f,f,2);const l=en(f.slice(0,2),f.slice(2,4)),g=en(f.slice(4,6),f.slice(6,8));o=(l+g)/2}const e=n.getMetersPerUnit();e!==void 0&&(o/=e)}}return o}function Mn(n){Tt(n),n.forEach(function(t){n.forEach(function(r){t!==r&&N(t,r,x)})})}function mt(n,t,r,s){n.forEach(function(o){t.forEach(function(c){N(o,c,r),N(c,o,s)})})}function xt(n,t){return n?typeof n=="string"?S(n):n:S(t)}function nr(n){return function(t,r,s,o){const c=t.length;s=s!==void 0?s:2,o=o??s,r=r!==void 0?r:new Array(c);for(let i=0;i<c;i+=o){const a=n(t.slice(i,i+s)),e=a.length;for(let f=0,l=o;f<l;++f)r[i+f]=f>=e?t[i+f]:a[f]}return r}}function tr(n,t){return Pt(),An(n,"EPSG:4326","EPSG:3857")}function rr(n,t){const r=An(n,"EPSG:3857","EPSG:4326"),s=r[0];return(s<-180||s>180)&&(r[0]=wn(s+180,360)-180),r}function sr(n,t){if(n===t)return!0;const r=n.getUnits()===t.getUnits();return(n.getCode()===t.getCode()||nn(n,t)===x)&&r}function nn(n,t){const r=n.getCode(),s=t.getCode();let o=Y(r,s);if(o)return o;let c=null,i=null;for(const e of Mt)c||(c=e(n)),i||(i=e(t));if(!c&&!i)return null;const a="EPSG:4326";if(i)if(c)o=V(c.inverse,i.forward);else{const e=Y(r,a);e&&(o=V(e,i.forward))}else{const e=Y(a,s);e&&(o=V(c.inverse,e))}return o&&(k(n),k(t),N(n,t,o)),o}function V(n,t){return function(r,s,o,c){return s=n(r,s,o,c),t(s,s,o,c)}}function St(n,t){const r=S(n),s=S(t);return nn(r,s)}function An(n,t,r){const s=St(t,r);if(!s){const o=S(t).getCode(),c=S(r).getCode();throw new Error(`No transform available between ${o} and ${c}`)}return s(n,void 0,n.length)}function or(n,t){return n}function cr(n,t){return K&&!Vn(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(K=!1,Kn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n}function ir(n,t){return n}function ar(n,t){return n}function _t(){Mn(fn),Mn(ln),mt(ln,fn,Zn,jn)}_t();export{In as $,Jt as A,kt as B,or as C,ir as D,Yt as E,Vn as F,Pt as G,Qt as H,Vt as I,J,jt as K,Dt as L,kn as M,Ft as N,Kn as O,bt as P,_n as Q,Q as R,yt as S,Ut as T,Lt as U,Ht as V,$t as W,Ct as X,An as Y,pt as Z,nr as _,Pn as a,Sn as a0,mn as a1,Bt as a2,At as a3,bn as a4,Kt as a5,sr as a6,$n as a7,on as a8,E as a9,Ot as aa,Yn as ab,tr as ac,rr as ad,Zt as ae,Tn as b,It as c,qn as d,St as e,Xt as f,S as g,Dn as h,Rt as i,Nt as j,Wt as k,Gt as l,Ln as m,qt as n,Wn as o,Bn as p,zt as q,vt as r,Nn as s,Hn as t,y as u,R as v,xt as w,cr as x,ar as y,wn as z};
