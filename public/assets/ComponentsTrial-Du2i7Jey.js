import{aj as V,I as M,r as u,ad as D,ae as W,z as P,F as Y,B as J,C as s,D as j,E as v,J as Q,ab as q,L as $,Q as G,ap as X,at as Z,au as oo,av as eo}from"./index-D-3i0_ZZ.js";import{u as no}from"./use-controllable-state-CruS74Kk.js";import{w as I,C as so}from"./collapse-DifwqhQZ.js";import{H as to}from"./heading-BF8XlgKi.js";const[co,N]=M({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[ro,S]=M({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[ao,Co,io,lo]=V();function uo(e){const{onChange:o,defaultIndex:c,index:t,allowMultiple:n,allowToggle:a,...r}=e;xo(e),ho(e);const x=io(),[h,m]=u.useState(-1);u.useEffect(()=>()=>{m(-1)},[]);const[l,b]=no({value:t,defaultValue(){return n?c??[]:c??-1},onChange:o});return{index:l,setIndex:b,htmlProps:r,getAccordionItemProps:i=>{let g=!1;return i!==null&&(g=Array.isArray(l)?l.includes(i):l===i),{isOpen:g,onChange:f=>{if(i!==null)if(n&&Array.isArray(l)){const _=f?l.concat(i):l.filter(k=>k!==i);b(_)}else f?b(i):a&&b(-1)}}},focusedIndex:h,setFocusedIndex:m,descendants:x}}const[mo,E]=M({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function fo(e){const{isDisabled:o,isFocusable:c,id:t,...n}=e,{getAccordionItemProps:a,setFocusedIndex:r}=E(),x=u.useRef(null),h=u.useId(),m=t??h,l=`accordion-button-${m}`,b=`accordion-panel-${m}`;bo(e);const{register:w,index:i,descendants:g}=lo({disabled:o&&!c}),{isOpen:A,onChange:f}=a(i===-1?null:i);Ao({isOpen:A,isDisabled:o});const _=()=>{f==null||f(!0)},k=()=>{f==null||f(!1)},B=u.useCallback(()=>{f==null||f(!A),r(i)},[i,r,A,f]),F=u.useCallback(C=>{const y={ArrowDown:()=>{const d=g.nextEnabled(i);d==null||d.node.focus()},ArrowUp:()=>{const d=g.prevEnabled(i);d==null||d.node.focus()},Home:()=>{const d=g.firstEnabled();d==null||d.node.focus()},End:()=>{const d=g.lastEnabled();d==null||d.node.focus()}}[C.key];y&&(C.preventDefault(),y(C))},[g,i]),T=u.useCallback(()=>{r(i)},[r,i]),L=u.useCallback(function(p={},y=null){return{...p,type:"button",ref:W(w,x,y),id:l,disabled:!!o,"aria-expanded":!!A,"aria-controls":b,onClick:D(p.onClick,B),onFocus:D(p.onFocus,T),onKeyDown:D(p.onKeyDown,F)}},[l,o,A,B,T,F,b,w]),U=u.useCallback(function(p={},y=null){return{...p,ref:y,role:"region",id:b,"aria-labelledby":l,hidden:!A}},[l,A,b]);return{isOpen:A,isDisabled:o,isFocusable:c,onOpen:_,onClose:k,getButtonProps:L,getPanelProps:U,htmlProps:n}}function xo(e){const o=e.index||e.defaultIndex,c=o!=null&&!Array.isArray(o)&&e.allowMultiple;I({condition:!!c,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof o},`})}function ho(e){I({condition:!!(e.allowMultiple&&e.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function bo(e){I({condition:!!(e.isFocusable&&!e.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function Ao(e){I({condition:e.isOpen&&!!e.isDisabled,message:"Cannot open a disabled accordion item"})}const O=P(function({children:o,reduceMotion:c,...t},n){const a=Y("Accordion",t),r=J(t),{htmlProps:x,descendants:h,...m}=uo(r),l=u.useMemo(()=>({...m,reduceMotion:!!c}),[m,c]);return s.jsx(ao,{value:h,children:s.jsx(mo,{value:l,children:s.jsx(co,{value:a,children:s.jsx(j.div,{ref:n,...x,className:v("chakra-accordion",t.className),__css:a.root,children:o})})})})});O.displayName="Accordion";const R=P(function(o,c){const{getButtonProps:t}=S(),n=t(o,c),r={display:"flex",alignItems:"center",width:"100%",outline:0,...N().button};return s.jsx(j.button,{...n,className:v("chakra-accordion__button",o.className),__css:r})});R.displayName="AccordionButton";function H(e){const{isOpen:o,isDisabled:c}=S(),{reduceMotion:t}=E(),n=v("chakra-accordion__icon",e.className),a=N(),r={opacity:c?.4:1,transform:o?"rotate(-180deg)":void 0,transition:t?void 0:"transform 0.2s",transformOrigin:"center",...a.icon};return s.jsx(Q,{viewBox:"0 0 24 24","aria-hidden":!0,className:n,__css:r,...e,children:s.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}H.displayName="AccordionIcon";const z=P(function(o,c){const{children:t,className:n}=o,{htmlProps:a,...r}=fo(o),x=N(),h=q({...x.container,overflowAnchor:"none"}),m=u.useMemo(()=>r,[r]);return s.jsx(ro,{value:m,children:s.jsx(j.div,{ref:c,...a,className:v("chakra-accordion__item",n),__css:h,children:typeof t=="function"?t({isExpanded:!!r.isOpen,isDisabled:!!r.isDisabled}):t})})});z.displayName="AccordionItem";const K=P(function(o,c){const{className:t,motionProps:n,...a}=o,{reduceMotion:r}=E(),{getPanelProps:x,isOpen:h}=S(),m=x(a,c),l=v("chakra-accordion__panel",t),b=N();r||delete m.hidden;const w=s.jsx(j.div,{...m,__css:b.panel,className:l});return r?w:s.jsx(so,{in:h,...n,children:w})});K.displayName="AccordionPanel";const vo=({message:e,type:o="success",dismissible:c=!1,icon:t,timeout:n,onDismiss:a})=>{const[r,x]=u.useState(!0);return u.useEffect(()=>{if(n){const h=setTimeout(()=>x(!1),n);return()=>clearTimeout(h)}},[n]),r?s.jsxs(X,{status:o,variant:"solid",border:"solid 2px",colorScheme:o==="success"?"success":o==="error"?"error":o==="warning"?"warning":"info",borderRadius:"md",borderColor:`${o}.400`,color:`${o}.700`,m:2,w:"auto",children:[t||"",s.jsxs($,{flex:"1",children:[s.jsx(Z,{children:e.title}),s.jsx(oo,{children:e.description})]}),c&&s.jsx(eo,{position:"absolute",right:"8px",top:"8px",onClick:a||(()=>x(!1)),color:`${o}.700`,_hover:{color:`${o}.900`},borderColor:`${o}.700`})]}):null},Po=({sections:e=[],expandedIndex:o,onToggle:c})=>{const t=o!==void 0&&o>=0?[o]:[];return u.useEffect(()=>{console.log("Using indexValue:",t)},[o,t]),s.jsx(O,{index:t,onChange:n=>{console.log("Accordion onChange triggered with:",n),c&&c(n)},allowToggle:!0,children:e.map((n,a)=>s.jsxs(z,{id:`section-${a}`,"data-section-name":n.title,children:[s.jsx("h2",{children:s.jsxs(R,{_expanded:{border:"4px solid brand.500",bg:"brand.500"},_hover:{bg:"brand.100"},sx:{borderColor:"brand.500",bg:"brand.500",color:"brand.900"},children:[s.jsx($,{flex:"1",textAlign:"left",textStyle:"heading",children:s.jsxs(G,{align:"center",gap:2,children:[n.icon&&s.jsx("img",{width:32,src:n.icon,alt:"",style:{borderRadius:"50%",backgroundColor:"white",padding:8}}),s.jsx(to,{size:"md",children:n.title})]})}),s.jsx(H,{})]})}),s.jsx(K,{pb:4,style:{overflowY:"auto",maxHeight:"50vh"},children:n.content})]},a))})};export{Po as A,vo as a};
