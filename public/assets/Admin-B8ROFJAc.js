import{aS as Ds,r as P,a9 as We,af as en,ac as te,ai as Ye,ae as Xe,ad as Ge,z as Pe,F as sn,B as nn,az as rn,C as e,I as ws,D as Ee,E as Te,Q as H,a8 as tn,ap as on,aq as ln,L as V,at as an,au as cn,W as I,T as ce,$ as As,a0 as ks,a1 as Ps,a2 as Es,a3 as Ts,a4 as _s,V as Is,Z as $e,ao as Z,aT as Ke,a5 as X,aU as _,aV as dn,aW as un,aX as mn,aY as hn,aZ as xn,a_ as pn,Y as Je,a$ as hs,b0 as xs,b1 as jn,b2 as fn,b3 as gn,b4 as bn,b5 as yn,b6 as Cn,b7 as Sn}from"./index-D-3i0_ZZ.js";import{H as ts}from"./heading-BF8XlgKi.js";import{I as E}from"./input-CoPoFIUG.js";import{u as Ms}from"./use-breakpoint-value-DhuFUQbX.js";import{c as Ze,p as vn,r as ps,v as js,T as le,b as ge,d as be,e as q,f as j,g as ye,h as f}from"./tr-C8boMRk1.js";import{F as A}from"./use-form-control-CBGUu0xk.js";import{F as k,S as Ns}from"./select-CWzTcnSc.js";import{D as Fs}from"./divider-rD5QcCBx.js";import{A as Ae}from"./Add-DYZlXOiv.js";import{D as Rs}from"./Delete-B9AVpcRZ.js";import{T as Ce}from"./textarea-DPxYno5J.js";import{S as wn}from"./switch-yEUOd6Rk.js";import{u as An}from"./use-controllable-state-CruS74Kk.js";import{G as kn}from"./grid-Cpr5m2qk.js";import{B as fs}from"./badge-BEYrR1ZS.js";import"./use-checkbox-OAPZjiff.js";function Pn(s,r,n,o){return s.addEventListener(r,n,o),()=>{s.removeEventListener(r,n,o)}}function En(s){const r=Ds(s);return typeof r.PointerEvent<"u"&&s instanceof r.PointerEvent?s.pointerType==="mouse":s instanceof r.MouseEvent}function Ls(s){return!!s.touches}function Tn(s){return Ls(s)&&s.touches.length>1}function _n(s,r="page"){const n=s.touches[0]||s.changedTouches[0];return{x:n[`${r}X`],y:n[`${r}Y`]}}function In(s,r="page"){return{x:s[`${r}X`],y:s[`${r}Y`]}}function Us(s,r="page"){return Ls(s)?_n(s,r):In(s,r)}function Mn(s){return r=>{const n=En(r);(!n||n&&r.button===0)&&s(r)}}function Nn(s,r=!1){function n(l){s(l,{point:Us(l)})}return r?Mn(n):n}function Ue(s,r,n,o){return Pn(s,r,Nn(n,r==="pointerdown"),o)}function $s(s){const r=P.useRef(null);return r.current=s,r}const zs=1/60*1e3,Fn=typeof performance<"u"?()=>performance.now():()=>Date.now(),Os=typeof window<"u"?s=>window.requestAnimationFrame(s):s=>setTimeout(()=>s(Fn()),zs);function Rn(s){let r=[],n=[],o=0,l=!1,C=!1;const i=new WeakSet,v={schedule:(b,S=!1,a=!1)=>{const c=a&&l,h=c?r:n;return S&&i.add(b),h.indexOf(b)===-1&&(h.push(b),c&&l&&(o=r.length)),b},cancel:b=>{const S=n.indexOf(b);S!==-1&&n.splice(S,1),i.delete(b)},process:b=>{if(l){C=!0;return}if(l=!0,[r,n]=[n,r],n.length=0,o=r.length,o)for(let S=0;S<o;S++){const a=r[S];a(b),i.has(a)&&(v.schedule(a),s())}l=!1,C&&(C=!1,v.process(b))}};return v}const Ln=40;let ns=!0,ke=!1,rs=!1;const ae={delta:0,timestamp:0},_e=["read","update","preRender","render","postRender"],ze=_e.reduce((s,r)=>(s[r]=Rn(()=>ke=!0),s),{}),Un=_e.reduce((s,r)=>{const n=ze[r];return s[r]=(o,l=!1,C=!1)=>(ke||On(),n.schedule(o,l,C)),s},{}),$n=_e.reduce((s,r)=>(s[r]=ze[r].cancel,s),{});_e.reduce((s,r)=>(s[r]=()=>ze[r].process(ae),s),{});const zn=s=>ze[s].process(ae),Vs=s=>{ke=!1,ae.delta=ns?zs:Math.max(Math.min(s-ae.timestamp,Ln),1),ae.timestamp=s,rs=!0,_e.forEach(zn),rs=!1,ke&&(ns=!1,Os(Vs))},On=()=>{ke=!0,ns=!0,rs||Os(Vs)},gs=()=>ae;var Vn=Object.defineProperty,Hn=(s,r,n)=>r in s?Vn(s,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[r]=n,O=(s,r,n)=>(Hn(s,typeof r!="symbol"?r+"":r,n),n);class qn{constructor(r,n,o){if(O(this,"history",[]),O(this,"startEvent",null),O(this,"lastEvent",null),O(this,"lastEventInfo",null),O(this,"handlers",{}),O(this,"removeListeners",()=>{}),O(this,"threshold",3),O(this,"win"),O(this,"updatePoint",()=>{if(!(this.lastEvent&&this.lastEventInfo))return;const v=Qe(this.lastEventInfo,this.history),b=this.startEvent!==null,S=Xn(v.offset,{x:0,y:0})>=this.threshold;if(!b&&!S)return;const{timestamp:a}=gs();this.history.push({...v.point,timestamp:a});const{onStart:c,onMove:h}=this.handlers;b||(c==null||c(this.lastEvent,v),this.startEvent=this.lastEvent),h==null||h(this.lastEvent,v)}),O(this,"onPointerMove",(v,b)=>{this.lastEvent=v,this.lastEventInfo=b,Un.update(this.updatePoint,!0)}),O(this,"onPointerUp",(v,b)=>{const S=Qe(b,this.history),{onEnd:a,onSessionEnd:c}=this.handlers;c==null||c(v,S),this.end(),!(!a||!this.startEvent)&&(a==null||a(v,S))}),this.win=r.view??window,Tn(r))return;this.handlers=n,o&&(this.threshold=o),r.stopPropagation(),r.preventDefault();const l={point:Us(r)},{timestamp:C}=gs();this.history=[{...l.point,timestamp:C}];const{onSessionStart:i}=n;i==null||i(r,Qe(l,this.history)),this.removeListeners=Yn(Ue(this.win,"pointermove",this.onPointerMove),Ue(this.win,"pointerup",this.onPointerUp),Ue(this.win,"pointercancel",this.onPointerUp))}updateHandlers(r){this.handlers=r}end(){var r;(r=this.removeListeners)==null||r.call(this),$n.update(this.updatePoint)}}function bs(s,r){return{x:s.x-r.x,y:s.y-r.y}}function Qe(s,r){return{point:s.point,delta:bs(s.point,r[r.length-1]),offset:bs(s.point,r[0]),velocity:Wn(r,.1)}}const Bn=s=>s*1e3;function Wn(s,r){if(s.length<2)return{x:0,y:0};let n=s.length-1,o=null;const l=s[s.length-1];for(;n>=0&&(o=s[n],!(l.timestamp-o.timestamp>Bn(r)));)n--;if(!o)return{x:0,y:0};const C=(l.timestamp-o.timestamp)/1e3;if(C===0)return{x:0,y:0};const i={x:(l.x-o.x)/C,y:(l.y-o.y)/C};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Yn(...s){return r=>s.reduce((n,o)=>o(n),r)}function De(s,r){return Math.abs(s-r)}function ys(s){return"x"in s&&"y"in s}function Xn(s,r){if(typeof s=="number"&&typeof r=="number")return De(s,r);if(ys(s)&&ys(r)){const n=De(s.x,r.x),o=De(s.y,r.y);return Math.sqrt(n**2+o**2)}return 0}function Gn(s,r){const{onPan:n,onPanStart:o,onPanEnd:l,onPanSessionStart:C,onPanSessionEnd:i,threshold:v}=r,b=!!(n||o||l||C||i),S=P.useRef(null),a=$s({onSessionStart:C,onSessionEnd:i,onStart:o,onMove:n,onEnd(c,h){S.current=null,l==null||l(c,h)}});P.useEffect(()=>{var c;(c=S.current)==null||c.updateHandlers(a.current)}),P.useEffect(()=>{const c=s.current;if(!c||!b)return;function h(d){S.current=new qn(d,a.current,v)}return Ue(c,"pointerdown",h)},[s,b,a,v]),P.useEffect(()=>()=>{var c;(c=S.current)==null||c.end(),S.current=null},[])}function es(s){const{orientation:r,vertical:n,horizontal:o}=s;return r==="vertical"?n:o}function Kn(s){const{orientation:r,thumbPercents:n,isReversed:o}=s,l=d=>({position:"absolute",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",touchAction:"none",...es({orientation:r,vertical:{bottom:`${n[d]}%`,transform:"translate(-50%, 50%) scale(var(--slider-thumb-scale, 1))"},horizontal:{left:`${n[d]}%`,transform:"translate(-50%, -50%) scale(var(--slider-thumb-scale, 1))"}})}),C={position:"relative",touchAction:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",userSelect:"none",outline:0},i={position:"absolute",...es({orientation:r,vertical:{left:"50%",transform:"translateX(-50%)",height:"100%"},horizontal:{top:"50%",transform:"translateY(-50%)",width:"100%"}})},v=n.length===1,b=[0,o?100-n[0]:n[0]],S=v?b:n;let a=S[0];!v&&o&&(a=100-a);const c=Math.abs(S[S.length-1]-S[0]),h={...i,...es({orientation:r,vertical:o?{height:`${c}%`,top:`${a}%`}:{height:`${c}%`,bottom:`${a}%`},horizontal:o?{width:`${c}%`,right:`${a}%`}:{width:`${c}%`,left:`${a}%`}})};return{trackStyle:i,innerTrackStyle:h,rootStyle:C,getThumbStyle:l}}function Jn(s){const{isReversed:r,direction:n,orientation:o}=s;return n==="ltr"||o==="vertical"?r:!r}function Zn(s){const{min:r=0,max:n=100,onChange:o,value:l,defaultValue:C,isReversed:i,direction:v="ltr",orientation:b="horizontal",id:S,isDisabled:a,isReadOnly:c,onChangeStart:h,onChangeEnd:d,step:y=1,getAriaValueText:x,"aria-valuetext":p,"aria-label":T,"aria-labelledby":M,name:B,focusThumbOnChange:ie=!0,...Ie}=s,de=We(h),W=We(d),Q=We(x),$=Jn({isReversed:i,direction:v,orientation:b}),[Me,D]=An({value:l,defaultValue:C??Dn(r,n),onChange:o}),[ue,me]=P.useState(!1),[he,xe]=P.useState(!1),pe=!(a||c),ee=(n-r)/10,K=y||(n-r)/100,N=Ze(Me,r,n),He=n-N+r,Ne=js($?He:N,r,n),Y=b==="vertical",F=$s({min:r,max:n,step:y,isDisabled:a,value:N,isInteractive:pe,isReversed:$,isVertical:Y,eventSource:null,focusThumbOnChange:ie,orientation:b}),G=P.useRef(null),Fe=P.useRef(null),Re=P.useRef(null),t=P.useId(),u=S??t,[w,R]=[`slider-thumb-${u}`,`slider-track-${u}`],z=P.useCallback(m=>{var ms;if(!G.current)return;const g=F.current;g.eventSource="pointer";const J=G.current.getBoundingClientRect(),{clientX:ne,clientY:re}=((ms=m.touches)==null?void 0:ms[0])??m,qe=Y?J.bottom-re:ne-J.left,Qs=Y?J.height:J.width;let Be=qe/Qs;$&&(Be=1-Be);let fe=vn(Be,g.min,g.max);return g.step&&(fe=parseFloat(ps(fe,g.min,g.step))),fe=Ze(fe,g.min,g.max),fe},[Y,$,F]),L=P.useCallback(m=>{const g=F.current;g.isInteractive&&(m=parseFloat(ps(m,g.min,K)),m=Ze(m,g.min,g.max),D(m))},[K,D,F]),U=P.useMemo(()=>({stepUp(m=K){const g=$?N-m:N+m;L(g)},stepDown(m=K){const g=$?N+m:N-m;L(g)},reset(){L(C||0)},stepTo(m){L(m)}}),[L,$,N,K,C]),se=P.useCallback(m=>{const g=F.current,ne={ArrowRight:()=>U.stepUp(),ArrowUp:()=>U.stepUp(),ArrowLeft:()=>U.stepDown(),ArrowDown:()=>U.stepDown(),PageUp:()=>U.stepUp(ee),PageDown:()=>U.stepDown(ee),Home:()=>L(g.min),End:()=>L(g.max)}[m.key];ne&&(m.preventDefault(),m.stopPropagation(),ne(m),g.eventSource="keyboard")},[U,L,ee,F]),os=(Q==null?void 0:Q(N))??p,{getThumbStyle:ls,rootStyle:as,trackStyle:cs,innerTrackStyle:is}=P.useMemo(()=>{const m=F.current;return Kn({isReversed:$,orientation:m.orientation,thumbPercents:[Ne]})},[$,Ne,F]),ds=P.useCallback(()=>{F.current.focusThumbOnChange&&setTimeout(()=>{var g;return(g=Fe.current)==null?void 0:g.focus()})},[F]);en(()=>{const m=F.current;ds(),m.eventSource==="keyboard"&&(W==null||W(m.value))},[N,W]);function us(m){const g=z(m);g!=null&&g!==F.current.value&&D(g)}Gn(Re,{onPanSessionStart(m){const g=F.current;g.isInteractive&&(me(!0),ds(),us(m),de==null||de(g.value))},onPanSessionEnd(){const m=F.current;m.isInteractive&&(me(!1),W==null||W(m.value))},onPan(m){F.current.isInteractive&&us(m)}});const Ys=P.useCallback((m={},g=null)=>({...m,...Ie,ref:Xe(g,Re),tabIndex:-1,"aria-disabled":Ye(a),"data-focused":te(he),style:{...m.style,...as}}),[Ie,a,he,as]),Xs=P.useCallback((m={},g=null)=>({...m,ref:Xe(g,G),id:R,"data-disabled":te(a),style:{...m.style,...cs}}),[a,R,cs]),Gs=P.useCallback((m={},g=null)=>({...m,ref:g,style:{...m.style,...is}}),[is]),Ks=P.useCallback((m={},g=null)=>({...m,ref:Xe(g,Fe),role:"slider",tabIndex:pe?0:void 0,id:w,"data-active":te(ue),"aria-valuetext":os,"aria-valuemin":r,"aria-valuemax":n,"aria-valuenow":N,"aria-orientation":b,"aria-disabled":Ye(a),"aria-readonly":Ye(c),"aria-label":T,"aria-labelledby":T?void 0:M,style:{...m.style,...ls(0)},onKeyDown:Ge(m.onKeyDown,se),onFocus:Ge(m.onFocus,()=>xe(!0)),onBlur:Ge(m.onBlur,()=>xe(!1))}),[pe,w,ue,os,r,n,N,b,a,c,T,M,ls,se]),Js=P.useCallback((m,g=null)=>{const J=!(m.value<r||m.value>n),ne=N>=m.value,re=js(m.value,r,n),qe={position:"absolute",pointerEvents:"none",...Qn({orientation:b,vertical:{bottom:$?`${100-re}%`:`${re}%`},horizontal:{left:$?`${100-re}%`:`${re}%`}})};return{...m,ref:g,role:"presentation","aria-hidden":!0,"data-disabled":te(a),"data-invalid":te(!J),"data-highlighted":te(ne),style:{...m.style,...qe}}},[a,$,n,r,b,N]),Zs=P.useCallback((m={},g=null)=>({...m,ref:g,type:"hidden",value:N,name:B}),[B,N]);return{state:{value:N,isFocused:he,isDragging:ue},actions:U,getRootProps:Ys,getTrackProps:Xs,getInnerTrackProps:Gs,getThumbProps:Ks,getMarkerProps:Js,getInputProps:Zs}}function Qn(s){const{orientation:r,vertical:n,horizontal:o}=s;return r==="vertical"?n:o}function Dn(s,r){return r<s?s:s+(r-s)/2}const[er,Oe]=ws({name:"SliderContext",hookName:"useSliderContext",providerName:"<Slider />"}),[sr,Ve]=ws({name:"SliderStylesContext",hookName:"useSliderStyles",providerName:"<Slider />"}),Hs=Pe((s,r)=>{const n={...s,orientation:(s==null?void 0:s.orientation)??"horizontal"},o=sn("Slider",n),l=nn(n),{direction:C}=rn();l.direction=C;const{getInputProps:i,getRootProps:v,...b}=Zn(l),S=v(),a=i({},r);return e.jsx(er,{value:b,children:e.jsx(sr,{value:o,children:e.jsxs(Ee.div,{...S,className:Te("chakra-slider",n.className),__css:o.container,children:[n.children,e.jsx("input",{...a})]})})})});Hs.displayName="Slider";const qs=Pe((s,r)=>{const{getThumbProps:n}=Oe(),o=Ve(),l=n(s,r);return e.jsx(Ee.div,{...l,className:Te("chakra-slider__thumb",s.className),__css:o.thumb})});qs.displayName="SliderThumb";const Bs=Pe((s,r)=>{const{getTrackProps:n}=Oe(),o=Ve(),l=n(s,r);return e.jsx(Ee.div,{...l,className:Te("chakra-slider__track",s.className),__css:o.track})});Bs.displayName="SliderTrack";const Ws=Pe((s,r)=>{const{getInnerTrackProps:n}=Oe(),o=Ve(),l=n(s,r);return e.jsx(Ee.div,{...l,className:Te("chakra-slider__filled-track",s.className),__css:o.filledTrack})});Ws.displayName="SliderFilledTrack";const nr=Pe((s,r)=>{const{getMarkerProps:n}=Oe(),o=Ve(),l=n(s,r);return e.jsx(Ee.div,{...l,className:Te("chakra-slider__marker",s.className),__css:o.mark})});nr.displayName="SliderMark";const Le=({title:s,value:r})=>e.jsxs(V,{bg:"white",p:4,borderRadius:"md",shadow:"md",children:[e.jsx(ts,{size:"md",mb:2,children:s}),e.jsx(ce,{fontSize:"2xl",fontWeight:"bold",children:r})]}),rr=()=>e.jsx(H,{justify:"center",align:"center",h:"100vh",children:e.jsx(tn,{size:"xl"})}),tr=({message:s,retry:r})=>e.jsxs(on,{status:"error",borderRadius:"md",mb:4,children:[e.jsx(ln,{}),e.jsxs(V,{children:[e.jsx(an,{children:"Error!"}),e.jsx(cn,{children:s})]}),e.jsx(I,{ml:"auto",onClick:r,colorScheme:"brand",children:"Try Again"})]}),Se=({title:s,onAddClick:r,buttonText:n="Add New"})=>e.jsxs(H,{justify:"space-between",align:"center",mb:4,direction:{base:"column",md:"row"},gap:2,children:[e.jsx(ts,{size:"lg",children:s}),r&&e.jsx(I,{colorScheme:"green",onClick:r,children:n})]}),ss=({isOpen:s,onClose:r,onConfirm:n,title:o="Confirm Delete",message:l="Are you sure you want to delete this item?"})=>e.jsxs(As,{isOpen:s,onClose:r,children:[e.jsx(ks,{}),e.jsxs(Ps,{children:[e.jsx(Es,{children:o}),e.jsx(Ts,{}),e.jsxs(_s,{children:[e.jsx(ce,{children:l}),e.jsxs(H,{mt:4,justify:"flex-end",children:[e.jsx(I,{mr:2,onClick:r,children:"Cancel"}),e.jsx(I,{colorScheme:"red",onClick:n,children:"Delete"})]})]})]})]}),oe=({isOpen:s,onClose:r,title:n,onSubmit:o,initialData:l,FormComponent:C,isEdit:i=!1})=>e.jsxs(As,{isOpen:s,onClose:r,children:[e.jsx(ks,{}),e.jsxs(Ps,{children:[e.jsx(Es,{children:n}),e.jsx(Ts,{}),e.jsx(_s,{children:e.jsx(C,{onSubmit:o,onCancel:r,initialData:l,isEdit:i})})]})]}),ve=({value:s,onChange:r})=>e.jsx(E,{placeholder:"Search...",value:s,onChange:n=>r(n.target.value),mb:4,maxW:"300px"}),we=({children:s})=>{const r=Ms({base:!0,lg:!1});return e.jsx(le,{maxHeight:"45vh",overflowY:"auto",overflowX:r?"auto":"visible",children:s})},Cs=({onSubmit:s,onCancel:r,initialData:n={}})=>{const[o,l]=P.useState({name:n.name||"",name_arabic:n.name_arabic||"",section:n.section||"",section_arabic:n.section_arabic||"",addon_price:Number(n.addon_price)||0,free_count:Number(n.free_count)||0,item_kcal:Number(n.item_kcal)||0,item_protein:Number(n.item_protein)||0,allergens:Array.isArray(n==null?void 0:n.allergens)?n.allergens:[],image:n.image||""}),C=[{en:"Milk and dairy products",ar:"الحليب ومنتجاته"},{en:"Gluten",ar:"الجلوتين"},{en:"Nuts and products",ar:"المكسرات ومنتجاتها"},{en:"Sesame seeds and products",ar:"بذور السمسم ومنتجاتها"},{en:"Fish and products",ar:"الأسماك ومنتجاتها"},{en:"Eggs and products",ar:"البيض ومنتجاته"},{en:"Soy",ar:"الصويا"},{en:"Crustaceans and products",ar:"القشريات ومنتجاتها"},{en:"Celery seeds and products",ar:"بذور الكرفس ومنتجاتها"},{en:"Mustard seeds and products",ar:"بذور الخردل ومنتجاتها"},{en:"Peanuts",ar:"فول سوداني"}],i=d=>{const{name:y,value:x}=d.target;l(p=>({...p,[y]:x}))},v=d=>{d.preventDefault();const y=o.allergens.filter(x=>x.en.trim()!==""||x.ar.trim()!=="");s({...o,allergens:y})},b=d=>{l(y=>{const x=y.allergens.findIndex(p=>p.en===d.en&&p.ar===d.ar);return x>=0?{...y,allergens:y.allergens.filter((p,T)=>T!==x)}:{...y,allergens:[...y.allergens,d]}})},S=()=>{const d={en:"",ar:""};l(y=>({...y,allergens:[...y.allergens,d]}))},a=(d,y,x)=>{l(p=>({...p,allergens:p.allergens.map((T,M)=>M===d?{...T,[y]:x}:T)}))},c=d=>{l(y=>({...y,allergens:y.allergens.filter((x,p)=>p!==d)}))},h=d=>o.allergens.some(y=>y.en===d.en&&y.ar===d.ar);return e.jsxs("form",{onSubmit:v,children:[e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Name"}),e.jsx(E,{type:"text",name:"name",value:o.name,onChange:i,required:!0})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Name (Arabic)"}),e.jsx(E,{type:"text",name:"name_arabic",value:o.name_arabic,onChange:i})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Section"}),e.jsx(E,{type:"text",name:"section",value:o.section,onChange:i,required:!0})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Section (Arabic)"}),e.jsx(E,{type:"text",name:"section_arabic",value:o.section_arabic,onChange:i})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Addon Price"}),e.jsx(E,{type:"number",name:"addon_price",value:o.addon_price,onChange:i})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Free Count"}),e.jsx(E,{type:"number",name:"free_count",value:o.free_count,onChange:i})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Calories (kcal)"}),e.jsx(E,{type:"number",name:"item_kcal",value:o.item_kcal,onChange:i})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Protein (g)"}),e.jsx(E,{type:"number",name:"item_protein",value:o.item_protein,onChange:i})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Allergens"}),e.jsxs(Is,{align:"stretch",spacing:3,children:[e.jsx(ce,{fontSize:"sm",color:"gray.600",children:"Select from common allergens:"}),e.jsx(V,{children:C.map((d,y)=>e.jsxs(I,{size:"sm",variant:h(d)?"solid":"outline",colorScheme:h(d)?"brand":"gray",onClick:()=>b(d),m:1,children:[d.en," / ",d.ar]},y))}),e.jsx(Fs,{}),e.jsxs($e,{justify:"space-between",align:"center",children:[e.jsx(ce,{fontSize:"sm",color:"gray.600",children:"Custom allergens:"}),e.jsx(Z,{icon:e.jsx(Ae,{}),size:"sm",onClick:S,colorScheme:"green",variant:"outline"})]}),o.allergens.filter(d=>!C.some(y=>y.en===d.en&&y.ar===d.ar)).map((d,y)=>{const x=o.allergens.findIndex(p=>p===d);return e.jsxs($e,{spacing:2,children:[e.jsx(E,{placeholder:"English name",value:d.en,onChange:p=>a(x,"en",p.target.value),size:"sm"}),e.jsx(E,{placeholder:"Arabic name",value:d.ar,onChange:p=>a(x,"ar",p.target.value),size:"sm"}),e.jsx(Z,{icon:e.jsx(Rs,{}),size:"sm",onClick:()=>c(x),colorScheme:"red",variant:"outline"})]},x)})]})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Premium"}),e.jsxs(Ns,{name:"isPremium",value:o.isPremium,onChange:i,required:!0,children:[e.jsx("option",{value:!1,children:"No"}),e.jsx("option",{value:!0,children:"Yes"})]})]}),o.isPremium?e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Plan"}),e.jsx(E,{type:"text",name:"plan",value:o.plan,onChange:i})]}):e.jsx(e.Fragment,{}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Image Link"}),e.jsx(E,{type:"url",name:"image",value:o.image,onChange:i,placeholder:"Enter a valid URL"})]}),e.jsxs(H,{justify:"flex-end",gap:2,children:[e.jsx(I,{onClick:r,variant:"outline",children:"Cancel"}),e.jsx(I,{type:"submit",colorScheme:"brand",children:"Save"})]})]})},Ss=({onSubmit:s,onCancel:r,initialData:n={}})=>{const[o,l]=P.useState({name:(n==null?void 0:n.name)||"",name_arabic:(n==null?void 0:n.name_arabic)||"",section:(n==null?void 0:n.section)||"",section_arabic:(n==null?void 0:n.section_arabic)||"",price:Number(n==null?void 0:n.price)||0,kcal:Number(n==null?void 0:n.kcal)||0,protein:Number(n==null?void 0:n.protein)||0,carb:Number(n==null?void 0:n.carb)||0,policy:(n==null?void 0:n.policy)||"",ingredients:(n==null?void 0:n.ingredients)||"",ingredients_arabic:(n==null?void 0:n.ingredients_arabic)||"",items:(n==null?void 0:n.items)||[],image:(n==null?void 0:n.image)||"",isPremium:!!(n!=null&&n.isPremium)||!1,plan:(n==null?void 0:n.plan)||"",rate:4.5,featured:!!(n!=null&&n.featured)||!1,offerRatio:Number(n==null?void 0:n.offerRatio)||1,offerLimit:(n==null?void 0:n.offerLimit)||"",description:(n==null?void 0:n.description)||"",allergens:Array.isArray(n==null?void 0:n.allergens)?n.allergens:[]}),C=[{en:"Milk and dairy products",ar:"الحليب ومنتجاته"},{en:"Gluten",ar:"الجلوتين"},{en:"Nuts and products",ar:"المكسرات ومنتجاتها"},{en:"Sesame seeds and products",ar:"بذور السمسم ومنتجاتها"},{en:"Fish and products",ar:"الأسماك ومنتجاتها"},{en:"Eggs and products",ar:"البيض ومنتجاته"},{en:"Soy",ar:"الصويا"},{en:"Crustaceans and products",ar:"القشريات ومنتجاتها"},{en:"Celery seeds and products",ar:"بذور الكرفس ومنتجاتها"},{en:"Mustard seeds and products",ar:"بذور الخردل ومنتجاتها"},{en:"Peanuts",ar:"فول سوداني"}],i=x=>{const{name:p,value:T}=x.target;l(M=>({...M,[p]:T}))},v=x=>{l(p=>({...p,offerRatio:x}))},b=x=>{l(p=>({...p,featured:x.target.checked}))},S=x=>{l(p=>{const T=p.allergens.findIndex(M=>M.en===x.en&&M.ar===x.ar);return T>=0?{...p,allergens:p.allergens.filter((M,B)=>B!==T)}:{...p,allergens:[...p.allergens,x]}})},a=()=>{const x={en:"",ar:""};l(p=>({...p,allergens:[...p.allergens,x]}))},c=(x,p,T)=>{l(M=>({...M,allergens:M.allergens.map((B,ie)=>ie===x?{...B,[p]:T}:B)}))},h=x=>{l(p=>({...p,allergens:p.allergens.filter((T,M)=>M!==x)}))},d=x=>o.allergens.some(p=>p.en===x.en&&p.ar===x.ar),y=x=>{x.preventDefault();const p=o.allergens.filter(T=>T.en.trim()!==""||T.ar.trim()!=="");s({...o,allergens:p})};return e.jsxs("form",{onSubmit:y,children:[e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Name"}),e.jsx(E,{type:"text",name:"name",value:o.name,onChange:i,required:!0})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Name (Arabic)"}),e.jsx(E,{type:"text",name:"name_arabic",value:o.name_arabic,onChange:i})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Section"}),e.jsx(E,{type:"text",name:"section",value:o.section,onChange:i})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Section (Arabic)"}),e.jsx(E,{type:"text",name:"section_arabic",value:o.section_arabic,onChange:i})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Policy"}),e.jsx(Ce,{name:"policy",value:o.policy,onChange:i,rows:"3"})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Ingredients"}),e.jsx(Ce,{name:"ingredients",value:o==null?void 0:o.ingredients,onChange:i,rows:"3"})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Ingredients (Arabic)"}),e.jsx(Ce,{name:"ingredients_arabic",value:o==null?void 0:o.ingredients_arabic,onChange:i,rows:"3"})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Items"}),e.jsx(Ce,{name:"items",value:o.items.join(", "),onChange:x=>l(p=>({...p,items:x.target.value.split(",").map(T=>T.trim())})),placeholder:"Enter items separated by commas"})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Allergens"}),e.jsxs(Is,{align:"stretch",spacing:3,children:[e.jsx(ce,{fontSize:"sm",color:"gray.600",children:"Select from common allergens:"}),e.jsx(V,{children:C.map((x,p)=>e.jsxs(I,{size:"sm",variant:d(x)?"solid":"outline",colorScheme:d(x)?"brand":"gray",onClick:()=>S(x),m:1,children:[x.en," / ",x.ar]},p))}),e.jsx(Fs,{}),e.jsxs($e,{justify:"space-between",align:"center",children:[e.jsx(ce,{fontSize:"sm",color:"gray.600",children:"Custom allergens:"}),e.jsx(Z,{icon:e.jsx(Ae,{}),size:"sm",onClick:a,colorScheme:"green",variant:"outline"})]}),o.allergens.filter(x=>!C.some(p=>p.en===x.en&&p.ar===x.ar)).map((x,p)=>{const T=o.allergens.findIndex(M=>M===x);return e.jsxs($e,{spacing:2,children:[e.jsx(E,{placeholder:"English name",value:x.en,onChange:M=>c(T,"en",M.target.value),size:"sm"}),e.jsx(E,{placeholder:"Arabic name",value:x.ar,onChange:M=>c(T,"ar",M.target.value),size:"sm"}),e.jsx(Z,{icon:e.jsx(Rs,{}),size:"sm",onClick:()=>h(T),colorScheme:"red",variant:"outline"})]},T)})]})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Price"}),e.jsx(E,{type:"number",name:"price",value:o.price,onChange:i,required:!0})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Premium"}),e.jsxs(Ns,{name:"isPremium",value:o.isPremium,onChange:i,required:!0,children:[e.jsx("option",{value:!1,children:"No"}),e.jsx("option",{value:!0,children:"Yes"})]})]}),o.isPremium?e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Plan"}),e.jsx(E,{type:"text",name:"plan",value:o.plan,onChange:i})]}):e.jsx(e.Fragment,{}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Calories (kcal)"}),e.jsx(E,{type:"number",name:"kcal",value:o.kcal,onChange:i})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Protein (g)"}),e.jsx(E,{type:"number",name:"protein",value:o.protein,onChange:i})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Carbohydrates (g)"}),e.jsx(E,{type:"number",name:"carb",value:o.carb,onChange:i})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Description"}),e.jsx(Ce,{name:"description",value:o.description,onChange:i,rows:"3"})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Image Link"}),e.jsx(E,{type:"url",name:"image",value:o.image,onChange:i,placeholder:"Enter a valid URL"})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Featured"}),e.jsx(wn,{isChecked:o.featured,onChange:b,colorScheme:"teal"})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Offer Ratio"}),e.jsxs(Hs,{defaultValue:o.offerRatio,min:.1,max:1,step:.05,onChange:v,children:[e.jsx(Bs,{children:e.jsx(Ws,{})}),e.jsx(qs,{})]}),e.jsxs(V,{mt:2,children:["Current Ratio: ",o.offerRatio.toFixed(2)]})]}),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Offer Expiry Date"}),e.jsx(E,{type:"datetime-local",name:"offerLimit",value:o.offerLimit,onChange:i})]}),e.jsxs(H,{justify:"flex-end",gap:2,children:[e.jsx(I,{onClick:r,variant:"outline",children:"Cancel"}),e.jsx(I,{type:"submit",colorScheme:"brand",children:"Save"})]})]})},vs=({onSubmit:s,onCancel:r,initialData:n={}})=>{const[o,l]=P.useState({title:n.title||"",title_arabic:n.title_arabic||"",periods:Array.isArray(n.periods)?n.periods:[],carb:Math.max(Number(n.carb)||0),protein:Math.max(Number(n.protein)||0),kcal:Math.max(Number(n.kcal)||0),members:Array.isArray(n.members)?n.members:[],avatar:n.avatar||"",carbMeals:Array.isArray(n.carbMeals)?n.carbMeals:[],proteinMeals:Array.isArray(n.proteinMeals)?n.proteinMeals:[],soaps:Array.isArray(n.soaps)?n.soaps:[],snacks:Array.isArray(n.snacks)?n.snacks:[]}),C=a=>{const{name:c,value:h}=a.target;l(d=>({...d,[c]:c.startsWith("title")?h:Math.max(Number(h),0)}))},i=(a,c,h)=>{const d=[...o[a]];d[c]=h,l(y=>({...y,[a]:d}))},v=a=>{l(c=>({...c,[a]:[...c[a],""]}))},b=(a,c)=>{const h=o[a].filter((d,y)=>y!==c);l(d=>({...d,[a]:h}))},S=a=>{a.preventDefault();const c={...o,periods:o.periods.filter(h=>h.trim()),members:o.members.filter(h=>h.trim()),carbMeals:o.carbMeals.filter(h=>h.trim()),proteinMeals:o.proteinMeals.filter(h=>h.trim()),soaps:o.soaps.filter(h=>h.trim()),snacks:o.snacks.filter(h=>h.trim())};s(c)};return e.jsxs("form",{onSubmit:S,children:[[{label:"Title (English)",type:"text",name:"title",required:!0},{label:"Title (Arabic",type:"text",name:"title_arabic",dir:"rtl",required:!0},{label:"Carbohydrates (g)",type:"number",name:"carb",min:0,required:!0},{label:"Protein (g)",type:"number",name:"protein",min:0,required:!0},{label:"Calories (kcal)",type:"number",name:"kcal",min:0,required:!0},{label:"Avatar URL",type:"url",name:"avatar",placeholder:"https://example.com/image.jpg"}].map((a,c)=>e.jsxs(A,{mb:4,isRequired:a.required,children:[e.jsx(k,{children:a.label}),e.jsx(E,{type:a.type,name:a.name,value:o[a.name],onChange:C,min:a.min,placeholder:a.placeholder,dir:a.dir})]},c)),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Periods"}),o.periods.map((a,c)=>e.jsxs(H,{mb:2,align:"center",children:[e.jsx(E,{type:"text",value:a,onChange:h=>i("periods",c,h.target.value),placeholder:`Period ${c+1}`}),e.jsx(Z,{ml:2,icon:e.jsx(Ke,{}),size:"sm",onClick:()=>b("periods",c),"aria-label":"Remove period"})]},c)),e.jsx(I,{onClick:()=>v("periods"),leftIcon:e.jsx(Ae,{}),mt:2,variant:"outline",children:"Add Period"})]}),[{name:"carbMeals",label:"Carb Meals"},{name:"proteinMeals",label:"Protein Meals"},{name:"soaps",label:"Soaps"},{name:"snacks",label:"Snacks"}].map(({name:a,label:c})=>e.jsxs(A,{mb:4,children:[e.jsx(k,{children:c}),o[a].map((h,d)=>e.jsxs(H,{mb:2,align:"center",children:[e.jsx(E,{type:"text",value:h,onChange:y=>i(a,d,y.target.value),placeholder:`${c} ${d+1}`}),e.jsx(Z,{ml:2,icon:e.jsx(Ke,{}),size:"sm",onClick:()=>b(a,d),"aria-label":`Remove ${c}`})]},d)),e.jsxs(I,{onClick:()=>v(a),leftIcon:e.jsx(Ae,{}),mt:2,variant:"outline",children:["Add ",c]})]},a)),e.jsxs(A,{mb:4,children:[e.jsx(k,{children:"Member IDs"}),o.members.map((a,c)=>e.jsxs(H,{mb:2,align:"center",children:[e.jsx(E,{type:"text",value:a,onChange:h=>i("members",c,h.target.value),placeholder:`Member ID ${c+1}`}),e.jsx(Z,{ml:2,icon:e.jsx(Ke,{}),size:"sm",onClick:()=>b("members",c),"aria-label":"Remove member"})]},c)),e.jsx(I,{onClick:()=>v("members"),leftIcon:e.jsx(Ae,{}),mt:2,variant:"outline",children:"Add Member"})]}),e.jsxs(H,{justify:"flex-end",gap:2,mt:6,children:[e.jsx(I,{onClick:r,variant:"outline",width:"20%",children:"Cancel"}),e.jsx(I,{type:"submit",colorScheme:"brand",width:"20%",children:"Save Plan"})]})]})},or=(s,r)=>{var n,o;switch(r.type){case"FETCH_START":return{...s,loading:!0,error:null};case"FETCH_SUCCESS":return{...s,loading:!1,dashboardData:r.payload.dashboardData||s.dashboardData,users:r.payload.users||s.users,items:r.payload.items||s.items,meals:r.payload.meals||s.meals,plans:r.payload.plans||s.plans,orders:r.payload.orders||s.orders};case"FETCH_ERROR":return{...s,loading:!1,error:r.payload};case"ADD_ITEM":return{...s,items:[...s.items,r.payload]};case"ADD_MEAL":return{...s,meals:[...s.meals,r.payload]};case"ADD_PLAN":return{...s,plans:[...s.plans,r.payload]};case"EDIT_ITEM":return{...s,items:s.items.map(l=>l.id===r.payload.id?r.payload:l)};case"DELETE_ITEM":return{...s,items:s.items.filter(l=>l.id!==r.payload)};case"EDIT_MEAL":return{...s,meals:s.meals.map(l=>l.id===r.payload.id?r.payload:l)};case"DELETE_MEAL":return{...s,meals:s.meals.filter(l=>l.id!==r.payload)};case"EDIT_PLAN":return{...s,plans:(n=s==null?void 0:s.plans)==null?void 0:n.map(l=>l.id===r.payload.id?r.payload:l)};case"DELETE_PLAN":return{...s,plans:(o=s==null?void 0:s.plans)==null?void 0:o.filter(l=>l.id!==r.payload)};case"SET_SELECTED_ITEM":return{...s,selectedItem:r.payload};case"SET_SELECTED_MEAL":return{...s,selectedMeal:r.payload};case"SET_SELECTED_PLAN":return{...s,selectedPlan:r.payload};default:return s}},lr={dashboardData:null,users:[],items:[],meals:[],plans:[],orders:[],loading:!0,error:null,selectedItem:null,selectedMeal:null,selectedPlan:null},wr=()=>{const[s,r]=P.useReducer(or,lr),{dashboardData:n,users:o,items:l,meals:C,plans:i,orders:v,loading:b,error:S}=s,a=Ms({base:!0,lg:!1}),c={add:X(),edit:X(),delete:X()},h={add:X(),edit:X(),delete:X()},d={add:X(),edit:X(),delete:X()};P.useEffect(()=>{y()},[]);const y=async()=>{r({type:"FETCH_START"});try{const t=_.currentUser?await _.currentUser.getIdToken():null,[u,w,R,z,L,U]=await Promise.all([dn(),un(),mn(),hn(),xn(),pn(t)]);r({type:"FETCH_SUCCESS",payload:{dashboardData:u,users:w||[],items:R||[],meals:z||[],plans:L||[],orders:U}})}catch(t){r({type:"FETCH_ERROR",payload:t.message||"Failed to load admin data"})}},x=async t=>{try{const u=_.currentUser?await _.currentUser.getIdToken():null,w=await hs(u,t);r({type:"ADD_ITEM",payload:w}),c.add.onClose()}catch(u){window.alert("Failed to add item: "+u.message)}},p=async(t,u)=>{try{const w=_.currentUser?await _.currentUser.getIdToken():null,R=await jn(w,t,u);r({type:"EDIT_ITEM",payload:R}),c.edit.onClose()}catch(w){window.alert("Failed to edit item: "+w.message)}},T=async t=>{try{const u=_.currentUser?await _.currentUser.getIdToken():null;await fn(u,t),r({type:"DELETE_ITEM",payload:t}),c.delete.onClose()}catch(u){window.alert("Failed to delete item: "+u.message)}},M=async t=>{try{const u=_.currentUser?await _.currentUser.getIdToken():null,w=await xs(u,t);r({type:"ADD_MEAL",payload:w}),h.add.onClose()}catch(u){window.alert("Failed to add meal: "+u.message)}},B=async(t,u)=>{try{const w=_.currentUser?await _.currentUser.getIdToken():null,R=await gn(w,t,u);r({type:"EDIT_MEAL",payload:R}),h.edit.onClose()}catch(w){window.alert("Failed to edit meal: "+w.message)}},ie=async t=>{try{const u=_.currentUser?await _.currentUser.getIdToken():null;await bn(u,t),r({type:"DELETE_MEAL",payload:t}),h.delete.onClose()}catch(u){window.alert("Failed to delete meal: "+u.message)}},Ie=async t=>{try{const u=_.currentUser?await _.currentUser.getIdToken():null,w=await yn(u,t);r({type:"ADD_PLAN",payload:w}),d.add.onClose()}catch(u){window.alert("Failed to add plan: "+u.message)}},de=async(t,u)=>{try{const w=_.currentUser?await _.currentUser.getIdToken():null,R=await Cn(w,t,u);r({type:"EDIT_PLAN",payload:R}),d.edit.onClose()}catch(w){window.alert("Failed to edit plan: "+w.message)}},W=async t=>{try{const u=_.currentUser?await _.currentUser.getIdToken():null;await Sn(u,t),r({type:"DELETE_PLAN",payload:t}),d.delete.onClose()}catch(u){window.alert("Failed to delete plan: "+u.message)}},Q=t=>{r({type:"SET_SELECTED_ITEM",payload:t})},$=t=>{r({type:"SET_SELECTED_MEAL",payload:t})},Me=t=>{r({type:"SET_SELECTED_PLAN",payload:t})},[D,ue]=P.useState(""),[me,he]=P.useState(""),[xe,pe]=P.useState(""),[ee,K]=P.useState(""),[N,He]=P.useState(""),je=(o==null?void 0:o.length)&&o.filter(t=>`${t.email} ${t.displayName} ${t.isAdmin?"Admin":"User"}`.toLowerCase().includes(D.toLowerCase())),Ne=(l==null?void 0:l.length)&&l.filter(t=>`${t.name} ${t.name_arabic} ${t.section} ${t.section_arabic}`.toLowerCase().includes(me.toLowerCase())),Y=(C==null?void 0:C.length)&&C.filter(t=>`${t.name} ${t.name_arabic} ${t.section} ${t.section_arabic}`.toLowerCase().includes(xe.toLowerCase())),F=(i==null?void 0:i.length)&&i.filter(t=>`${t.title} ${t.period}`.toLowerCase().includes(ee.toLowerCase())),G=(v==null?void 0:v.length)&&v.filter(t=>`${t.id} ${t.userId} ${t.status}`.toLowerCase().includes(N.toLowerCase())),Fe=async t=>{const u=t.target.files[0];if(!u)return;const w=new FileReader;w.onload=async R=>{try{const z=JSON.parse(R.target.result),L=_.currentUser?await _.currentUser.getIdToken():null;for(const U of z){const se=await hs(L,U);r({type:"ADD_ITEM",payload:se})}alert("Items imported successfully!")}catch(z){window.alert("Failed to import items: "+z.message)}},w.readAsText(u)},Re=async t=>{const u=t.target.files[0];if(!u)return;const w=new FileReader;w.onload=async R=>{try{const z=JSON.parse(R.target.result),L=_.currentUser?await _.currentUser.getIdToken():null;for(const U of z){const se=await xs(L,U);r({type:"ADD_MEAL",payload:se})}window.alert("Meals imported successfully!")}catch(z){window.alert("Failed to import meals: "+z.message)}},w.readAsText(u)};return b?e.jsx(rr,{}):S?e.jsx(tr,{message:S,retry:y}):e.jsxs(V,{sx:{p:"20px",m:0,maxW:"100vw",backgroundColor:"#f0f0f0"},children:[e.jsx(ts,{mb:6,children:"Admin Dashboard"}),e.jsxs(kn,{templateColumns:{base:"1fr",sm:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)"},gap:6,m:12,maxW:"90%",children:[e.jsx(Le,{title:"Total Users",value:(n==null?void 0:n.totalUsers)||0}),e.jsx(Le,{title:"Admin Users",value:(n==null?void 0:n.totalAdmins)||0}),e.jsx(Le,{title:"Items",value:(l==null?void 0:l.length)||0}),e.jsx(Le,{title:"Plans",value:(i==null?void 0:i.length)||0})]}),e.jsxs(V,{gap:6,m:12,maxW:"90%",backgroundColor:"#ffffff",p:8,children:[e.jsx(Se,{title:"Users"}),e.jsx(ve,{value:D,onChange:ue}),e.jsx(we,{children:e.jsx(le,{overflowX:a?"auto":"visible",children:e.jsxs(ge,{variant:"simple",size:{base:"sm",md:"md"},children:[e.jsx(be,{children:e.jsxs(q,{children:[e.jsx(j,{children:"Email"}),e.jsx(j,{children:"Name"}),e.jsx(j,{children:"Role"}),e.jsx(j,{children:"Created"}),e.jsx(j,{children:"Actions"})]})}),e.jsx(ye,{children:(je==null?void 0:je.length)&&je.map(t=>e.jsxs(q,{children:[e.jsx(f,{children:t.email}),e.jsx(f,{children:t.displayName}),e.jsx(f,{children:t.isAdmin?"Admin":"User"}),e.jsx(f,{children:t.createdAt?new Date(t.createdAt).toLocaleDateString():"N/A"}),e.jsx(f,{children:e.jsx(I,{size:"sm",colorScheme:"brand",children:"Edit"})})]},t.uid))})]})})})]}),e.jsxs(V,{gap:6,m:12,maxW:"90%",backgroundColor:"#ffffff",p:8,children:[e.jsx(Se,{title:"Items",onAddClick:c.add.onOpen,buttonText:"Create New"}),e.jsxs(H,{gap:2,mb:4,children:[e.jsx(ve,{value:me,onChange:he}),e.jsxs(I,{as:"label",colorScheme:"brand",cursor:"pointer",children:["Import Items",e.jsx("input",{type:"file",hidden:!0,accept:".json",onChange:Fe})]})]}),e.jsx(we,{children:e.jsx(le,{overflow:"auto",children:e.jsxs(ge,{variant:"simple",size:"sm",style:{overflowY:"auto",maxHeight:"30vh"},children:[e.jsx(be,{children:e.jsxs(q,{children:[e.jsx(j,{w:"15%",children:"Name"}),e.jsx(j,{w:"15%",children:"Name (Arabic)"}),e.jsx(j,{w:"10%",children:"Section"}),e.jsx(j,{w:"10%",children:"Section (Arabic)"}),e.jsx(j,{w:"10%",children:"Addon Price"}),e.jsx(j,{w:"10%",children:"Free Count"}),e.jsx(j,{w:"10%",children:"Calories"}),e.jsx(j,{w:"10%",children:"Protein"}),e.jsx(j,{w:"15%",children:"Allergens"}),e.jsx(j,{w:"15%",children:"Image"}),e.jsx(j,{w:"15%",children:"Action"})]})}),e.jsx(ye,{children:Ne.map(t=>{var u;return e.jsxs(q,{children:[e.jsx(f,{w:"15%",children:t.name}),e.jsx(f,{w:"15%",children:t.name_arabic}),e.jsx(f,{w:"10%",children:t.section}),e.jsx(f,{w:"10%",children:t.section_arabic}),e.jsx(f,{w:"10%",children:t.addon_price}),e.jsx(f,{w:"10%",children:t.free_count}),e.jsx(f,{w:"10%",children:t.item_kcal}),e.jsx(f,{w:"10%",children:t.item_protein}),e.jsx(f,{children:((u=t==null?void 0:t.allergens)==null?void 0:u.length)>0?t.allergens.map(w=>`${w.ar} |`):"N/A"}),e.jsx(f,{w:"15%",isTruncated:!0,maxW:"150px",children:t.image}),e.jsx(f,{w:"15%",children:e.jsxs(Je,{direction:"row",spacing:2,children:[e.jsx(I,{size:"xs",colorScheme:"brand",onClick:()=>{Q(t),c.edit.onOpen()},children:"Edit"}),e.jsx(I,{size:"xs",colorScheme:"red",onClick:()=>{Q(t),c.delete.onOpen()},children:"Delete"})]})})]},t.id)})})]})})})]}),e.jsxs(V,{gap:6,m:12,maxW:"90%",backgroundColor:"#ffffff",p:8,children:[e.jsx(Se,{title:"Meals",onAddClick:h.add.onOpen,buttonText:"Create New"}),e.jsxs(H,{gap:2,mb:4,children:[e.jsx(ve,{value:xe,onChange:pe}),e.jsxs(I,{as:"label",colorScheme:"brand",cursor:"pointer",children:["Import Meals",e.jsx("input",{type:"file",hidden:!0,accept:".json",onChange:Re})]})]}),e.jsx(we,{children:e.jsx(le,{overflowX:a?"auto":"visible",children:e.jsxs(ge,{variant:"simple",size:{base:"sm",md:"md"},style:{overflowY:"auto",maxHeight:"70vh"},children:[e.jsx(be,{children:e.jsxs(q,{children:[e.jsx(j,{children:"Name"}),e.jsx(j,{children:"Name (Arabic)"}),e.jsx(j,{children:"Section"}),e.jsx(j,{children:"Section (Arabic)"}),e.jsx(j,{children:"Price"}),e.jsx(j,{children:"Calories"}),e.jsx(j,{children:"Protein"}),e.jsx(j,{children:"Carbohydrates"}),e.jsx(j,{children:"Policy"}),e.jsx(j,{children:"Ingredients"}),e.jsx(j,{children:"Ingredients (Arabic)"}),e.jsx(j,{children:"Items"}),e.jsx(j,{children:"Image"}),e.jsx(j,{children:"Allergens"}),e.jsx(j,{children:"Actions"})]})}),e.jsx(ye,{children:(Y==null?void 0:Y.length)&&Y.map(t=>{var u,w;return e.jsxs(q,{children:[e.jsx(f,{children:t.name}),e.jsx(f,{children:t.name_arabic}),e.jsx(f,{children:t.section||"N/A"}),e.jsx(f,{children:t.section_arabic||"N/A"}),e.jsx(f,{children:t.price}),e.jsx(f,{children:t.kcal}),e.jsx(f,{children:t.protein}),e.jsx(f,{children:t.carb}),e.jsx(f,{children:t.policy}),e.jsx(f,{children:t.ingredients}),e.jsx(f,{children:t.ingredients_arabic}),e.jsx(f,{children:((u=t==null?void 0:t.items)==null?void 0:u.length)>0?t.items.join(", "):"N/A"}),e.jsx(f,{children:t==null?void 0:t.image}),e.jsx(f,{children:((w=t==null?void 0:t.allergens)==null?void 0:w.length)>0?t.allergens.map(R=>`${R.ar} |`):"N/A"}),e.jsx(f,{children:e.jsxs(Je,{direction:"row",spacing:2,children:[e.jsx(I,{size:"sm",colorScheme:"brand",onClick:()=>{$(t),h.edit.onOpen()},children:"Edit"}),e.jsx(I,{size:"sm",colorScheme:"red",onClick:()=>{$(t),h.delete.onOpen()},children:"Delete"})]})})]},t.id)})})]})})})]}),e.jsxs(V,{gap:6,m:12,maxW:"90%",bg:"white",p:8,children:[e.jsx(Se,{title:"Plans",onAddClick:d.add.onOpen,buttonText:"Create New"}),e.jsx(ve,{value:ee,onChange:K}),e.jsx(we,{children:e.jsx(le,{overflowX:"auto",children:e.jsxs(ge,{variant:"simple",size:"sm",style:{overflowY:"auto",maxHeight:"70vh"},children:[e.jsx(be,{children:e.jsxs(q,{children:[e.jsx(j,{children:"Title (EN)"}),e.jsx(j,{children:"Title (AR)"}),e.jsx(j,{children:"Periods"}),e.jsx(j,{children:"Carbs (g)"}),e.jsx(j,{children:"Protein (g)"}),e.jsx(j,{children:"Calories (kcal)"}),e.jsx(j,{children:"Members"}),e.jsx(j,{children:"Carb Meals"}),e.jsx(j,{children:"Protein Meals"}),e.jsx(j,{children:"Soaps"}),e.jsx(j,{children:"Snacks"}),e.jsx(j,{children:"Actions"})]})}),e.jsx(ye,{children:(F==null?void 0:F.length)&&F.map(t=>{var u,w,R,z,L,U;return e.jsxs(q,{children:[e.jsx(f,{children:t.title||"N/A"}),e.jsx(f,{children:t.title_arabic||"N/A"}),e.jsx(f,{children:(u=t.periods)!=null&&u.length?t.periods.join(", "):"No periods"}),e.jsx(f,{children:t.carb||0}),e.jsx(f,{children:t.protein||0}),e.jsx(f,{children:t.kcal||0}),e.jsx(f,{children:((w=t.members)==null?void 0:w.length)||0}),e.jsx(f,{children:((R=t.carbMeals)==null?void 0:R.join(", "))||"None"}),e.jsx(f,{children:((z=t.proteinMeals)==null?void 0:z.join(", "))||"None"}),e.jsx(f,{children:((L=t.soaps)==null?void 0:L.join(", "))||"None"}),e.jsx(f,{children:((U=t.snacks)==null?void 0:U.join(", "))||"None"}),e.jsx(f,{children:e.jsxs(Je,{direction:"row",spacing:1,children:[e.jsx(I,{size:"xs",colorScheme:"brand",onClick:()=>{Me(t),d.edit.onOpen()},children:"Edit"}),e.jsx(I,{size:"xs",colorScheme:"red",onClick:()=>{Me(t),d.delete.onOpen()},children:"Delete"})]})})]},t.id)})})]})})})]}),e.jsxs(V,{children:[e.jsx(Se,{title:"Orders"}),e.jsx(ve,{value:N,onChange:He}),e.jsx(we,{children:e.jsx(le,{overflowX:a?"auto":"visible",children:e.jsxs(ge,{variant:"simple",size:{base:"sm",md:"md"},style:{overflowY:"auto",maxHeight:"70vh"},children:[e.jsx(be,{children:e.jsxs(q,{children:[e.jsx(j,{children:"Order ID"}),e.jsx(j,{children:"User"}),e.jsx(j,{children:"Total Price"}),e.jsx(j,{children:"Status"}),e.jsx(j,{children:"Payment Status"}),e.jsx(j,{children:"Created At"})]})}),e.jsx(ye,{children:(G==null?void 0:G.length)&&G.map(t=>{var u;return e.jsxs(q,{children:[e.jsx(f,{children:t.id}),e.jsx(f,{children:t.userId||((u=t.user)==null?void 0:u.email)||"N/A"}),e.jsxs(f,{children:["$",parseFloat(t.totalPrice).toFixed(2)]}),e.jsx(f,{children:e.jsx(fs,{colorScheme:t.status==="completed"?"green":t.status==="processing"?"brand":t.status==="cancelled"?"red":"gray",children:t.status||"pending"})}),e.jsx(f,{children:e.jsx(fs,{colorScheme:t.isPaid?"green":"orange",children:t.isPaid?"Paid":"Unpaid"})}),e.jsx(f,{children:t.createdAt?new Date(t.createdAt).toLocaleDateString():"N/A"})]},t.id)})})]})})})]}),e.jsx(oe,{isOpen:c.add.isOpen,onClose:c.add.onClose,title:"Add New Item",onSubmit:x,initialData:{name:"",name_arabic:"",section:"",section_arabic:"",addon_price:0,free_count:0,item_kcal:0,item_protein:0,image:""},FormComponent:Cs}),e.jsx(oe,{isOpen:c.edit.isOpen,onClose:c.edit.onClose,title:"Edit Item",onSubmit:t=>{var u;return p((u=s.selectedItem)==null?void 0:u.id,t)},initialData:s.selectedItem,FormComponent:Cs,isEdit:!0}),e.jsx(ss,{isOpen:c.delete.isOpen,onClose:c.delete.onClose,onConfirm:()=>{var t;return((t=s.selectedItem)==null?void 0:t.id)&&T(s.selectedItem.id)},title:"Confirm Delete",message:"Are you sure you want to delete this item?"}),e.jsx(oe,{isOpen:h.add.isOpen,onClose:h.add.onClose,title:"Add New Meal",onSubmit:M,initialData:{name:"",name_arabic:"",section:"",section_arabic:"",price:0,kcal:0,protein:0,carb:0,policy:"",ingredients:"",ingredients_arabic:"",items:[],image:""},FormComponent:Ss}),e.jsx(oe,{isOpen:h.edit.isOpen,onClose:h.edit.onClose,title:"Edit Meal",onSubmit:t=>{var u;return((u=s.selectedMeal)==null?void 0:u.id)&&B(s.selectedMeal.id,t)},initialData:s.selectedMeal,FormComponent:Ss,isEdit:!0}),e.jsx(ss,{isOpen:h.delete.isOpen,onClose:h.delete.onClose,onConfirm:()=>{var t;return((t=s.selectedMeal)==null?void 0:t.id)&&ie(s.selectedMeal.id)},title:"Confirm Delete",message:"Are you sure you want to delete this meal?"}),e.jsx(oe,{isOpen:d.add.isOpen,onClose:d.add.onClose,title:"Add New Plan",onSubmit:Ie,initialData:{title:"New Plan",description:"add description",period:30,carb:150,protein:120,kcal:2e3,avatar:"",members:[],carbMeals:[],proteinMeals:[],soaps:[],snacks:[]},FormComponent:vs}),e.jsx(oe,{isOpen:d.edit.isOpen,onClose:d.edit.onClose,title:"Edit Plan",onSubmit:t=>{var u;return((u=s.selectedPlan)==null?void 0:u.id)&&de(s.selectedPlan.id,t)},initialData:s.selectedPlan,FormComponent:vs,isEdit:!0}),e.jsx(ss,{isOpen:d.delete.isOpen,onClose:d.delete.onClose,onConfirm:()=>{var t;return((t=s.selectedPlan)==null?void 0:t.id)&&W(s.selectedPlan.id)},title:"Confirm Delete",message:"Are you sure you want to delete this plan?"})]})};export{wr as default};
