import{N as y,r as W,O as k,C as e,L as j,Q as l,X as D,T as a,Y as b,W as R,_ as q,ao as w,am as M,a6 as P,V as A}from"./index-D-3i0_ZZ.js";import{u as B}from"./unknownMeal-CabVnnUV.js";import{u as F}from"./use-toast-TcS82ZOd.js";import{B as v}from"./badge-BEYrR1ZS.js";import{D as z}from"./divider-rD5QcCBx.js";import{I}from"./input-CoPoFIUG.js";import{M as G}from"./Minus-aZLYyxDR.js";import{A as L}from"./Add-DYZlXOiv.js";import{D as $}from"./Delete-B9AVpcRZ.js";import{H as E}from"./heading-BF8XlgKi.js";import"./use-form-control-CBGUu0xk.js";const H="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%20-0.5%2025%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M5.50063%2016.1407C5.46273%2018.2335%207.1278%2019.9613%209.22063%2020.0007H15.7806C17.8735%2019.9613%2019.5385%2018.2335%2019.5006%2016.1407L19.0636%2011.4527C18.9527%209.68529%2017.716%208.19053%2016.0006%207.75065C15.6432%207.64667%2015.2729%207.59348%2014.9006%207.59265H10.1006C9.72837%207.59348%209.35808%207.64667%209.00063%207.75065C7.28636%208.19067%206.05026%209.68433%205.93863%2011.4507L5.50063%2016.1407Z'%20stroke='%23328661'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10.0056%2014.1216C9.33164%2013.371%209.33164%2012.2332%2010.0056%2011.4826C10.3288%2011.155%2010.7775%2010.9824%2011.237%2011.009C11.6965%2011.0356%2012.1223%2011.2588%2012.4056%2011.6216C12.429%2011.6466%2012.4618%2011.6608%2012.4961%2011.6608C12.5304%2011.6608%2012.5631%2011.6466%2012.5866%2011.6216C12.8699%2011.2588%2013.2956%2011.0356%2013.7551%2011.009C14.2146%2010.9824%2014.6633%2011.155%2014.9866%2011.4826C15.6605%2012.2332%2015.6605%2013.371%2014.9866%2014.1216L13.7536%2015.4626C13.4275%2015.8061%2012.9747%2016.0006%2012.5011%2016.0006C12.0275%2016.0006%2011.5747%2015.8061%2011.2486%2015.4626L10.0056%2014.1216Z'%20stroke='%23328661'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M16.0006%209.38862V7.36762C15.9629%205.4718%2014.3965%203.96493%2012.5006%204.00062C10.6047%203.96493%209.03835%205.4718%209.00061%207.36762V9.38762'%20stroke='%23328661'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",N=({name:n,price:u,image:p,addOns:i=[],quantity:h,onIncrease:m,onDecrease:x,onRemove:g})=>{const{colorMode:c}=y(),{t:d}=k(),{items:f}=q();return e.jsxs(l,{direction:"row",align:"center",justify:"space-between",bg:c==="dark"?"gray.700":"white",borderRadius:"lg",width:"97%",p:2,m:1,children:[e.jsxs(j,{position:"relative",width:"60px",height:"60px",borderRadius:"md",flexShrink:0,mr:3,children:[e.jsx(D,{src:p,alt:n,objectFit:"cover",width:"100%",height:"100%",borderRadius:"md"}),e.jsx(v,{position:"absolute",top:"-1",right:"-1",bg:"error.300",color:"white",borderRadius:"full",px:1.5,fontSize:"xs",children:h})]}),e.jsxs(j,{flex:"1",minW:"0",mr:2,children:[e.jsx(a,{fontWeight:"bold",fontSize:"sm",color:c==="dark"?"white":"gray.800",noOfLines:1,children:n}),Array.isArray(i)&&i.length>0&&e.jsx(l,{wrap:"wrap",gap:1,mt:1,children:i.map((o,r)=>{const s=f.find(C=>C.id===o);return s?e.jsx(v,{colorScheme:"teal",borderRadius:"full",px:1.5,py:.5,fontSize:"2xs",children:s.name},`${o}-${r}`):null})})]}),e.jsxs(l,{direction:"column",align:"flex-end",children:[e.jsxs(a,{fontSize:"sm",fontWeight:"bold",mb:1,children:["$",(u*h).toFixed(2)]}),e.jsxs(l,{align:"center",children:[e.jsx(w,{icon:e.jsx(G,{}),"aria-label":d("buttons.decreaseQuantity"),size:"xs",variant:"ghost",onClick:x}),e.jsx(w,{icon:e.jsx(L,{}),"aria-label":d("buttons.increaseQuantity"),size:"xs",variant:"ghost",onClick:m}),e.jsx(w,{icon:e.jsx($,{}),"aria-label":d("buttons.removeItem"),size:"xs",variant:"ghost",colorScheme:"red",onClick:g,ml:1})]})]})]})},O=({items:n=[],totalPrice:u=0,onIncrease:p,onDecrease:i,onRemove:h,checkoutButton:m=!0,onCheckout:x})=>{const{colorMode:g}=y(),c=F(),[d,f]=W.useState(""),{t:o}=k(),r=t=>{p(t),c({title:o("toasts.quantityUpdated"),status:"success",duration:1e3,isClosable:!1})},s=t=>{if(n.find(V=>V.id===t).quantity<=1){c({title:o("toasts.minQuantity"),description:o("toasts.cantReduceQuantity"),status:"warning",duration:2e3,isClosable:!1});return}i(t)},C=(t,S)=>{h(t),c({title:o("toasts.mealRemoved"),description:o("toasts.mealRemovedDescription",{mealName:S}),status:"info",duration:2e3,isClosable:!1})},T=()=>{c(d==="DISCOUNT10"?{title:o("toasts.promoApplied"),description:o("toasts.discountApplied"),status:"success",duration:2e3,isClosable:!1}:{title:o("toasts.invalidPromo"),description:o("toasts.checkPromoCode"),status:"error",duration:2e3,isClosable:!1})};return e.jsxs(j,{bg:g==="dark"?"gray.800":"brand.200",borderRadius:"xl",width:["95%","87%","70%"],minWidth:"280px",p:4,mx:"5px",h:"auto",overflowY:"auto",children:[e.jsxs(l,{align:"center",justify:"space-between",mb:3,children:[e.jsx(l,{align:"center",children:e.jsx(D,{src:H,alt:"Cart Icon",boxSize:"30px",mr:2})}),e.jsxs(v,{colorScheme:"orange",fontSize:"sm",px:2,py:1,borderRadius:"full",children:[n.length," ",n.length===1?o("cart.meal"):o("cart.meals")]})]}),n.length===0?e.jsx(a,{color:"gray.500",py:3,textAlign:"center",children:o("cart.emptyCart")}):e.jsx(b,{spacing:2,m:2,maxHeight:"40vh",overflowY:"auto",overflowX:"hidden",children:n.map(t=>e.jsx(N,{name:t.name,price:t.price,image:t.image||B,quantity:(t==null?void 0:t.quantity)||(t==null?void 0:t.qty),addOns:t.addOns||[],onIncrease:()=>r(t.id),onDecrease:()=>s(t.id),onRemove:()=>C(t.id,t.name)},t.id))}),n.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(z,{my:3}),e.jsxs(b,{spacing:2,mb:4,children:[e.jsxs(l,{justify:"space-between",fontSize:"sm",children:[e.jsx(a,{children:o("cart.subtotal")}),e.jsxs(a,{children:["$",u.toFixed(2)]})]}),e.jsxs(l,{justify:"space-between",fontSize:"sm",children:[e.jsx(a,{color:"gray.500",children:o("cart.deliveryFee")}),e.jsx(a,{color:"gray.600",children:"$2.99"})]}),e.jsx(z,{my:1}),e.jsxs(l,{justify:"space-between",fontSize:"md",fontWeight:"bold",children:[e.jsx(a,{children:o("cart.total")}),e.jsxs(a,{color:"teal.600",children:["$",(u+2.99).toFixed(2)]})]})]})]}),e.jsxs(b,{spacing:4,children:[e.jsxs(j,{children:[e.jsx(a,{fontSize:"sm",fontWeight:"medium",mb:1,children:o("cart.specialInstructions")}),e.jsx(I,{placeholder:o("cart.specialInstructionsPlaceholder"),variant:"ghost",size:"sm"})]}),e.jsxs(j,{children:[e.jsx(a,{fontSize:"sm",fontWeight:"medium",mb:1,children:o("cart.promoCode")}),e.jsxs(l,{gap:2,children:[e.jsx(I,{placeholder:o("cart.enterPromoCode"),value:d,onChange:t=>f(t.target.value),variant:"ghost",size:"sm",flex:1}),e.jsx(R,{colorScheme:"brand",onClick:T,size:"sm",px:4,children:o("buttons.apply")})]})]}),m&&n.length>0&&e.jsx(R,{colorScheme:"brand",size:"md",width:"full",onClick:x,fontWeight:"bold",mt:2,children:o("buttons.proceedToCheckout")})]})]})},se=()=>{const{colorMode:n}=y(),u=M(),{t:p}=k(),{cart:i,addToCart:h,removeFromCart:m}=P(),x=o=>{const r=i.find(s=>s.id===o);if(r){const s={...r};s.qty+=1,h(s)}},g=o=>{const r=i.find(s=>s.id===o);if(r&&r.qty>1){const s={...r};s.qty-=1,h(s)}},c=o=>{m(o)},d=i.reduce((o,r)=>o+r.price*r.qty,0),f=()=>{window.alert(p("cart.proceedToCheckout")),u("/checkout")};return e.jsxs(A,{p:4,bg:n==="dark"?"gray.800":"gray.50",w:"100vw",h:"100vh",children:[e.jsx(E,{size:"lg",fontWeight:"semibold",mb:4,children:p("cart.yourCart")}),e.jsx(O,{items:i.map(o=>({...o,name:o.name,quantity:o.qty})),totalPrice:d,onIncrease:x,onDecrease:g,onCheckout:f,onRemove:c,checkoutButton:!0})]})};export{se as default};
