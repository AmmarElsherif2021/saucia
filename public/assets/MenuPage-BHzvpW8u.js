import{C as e,$,a0 as Q,a1 as q,a2 as Z,Q as k,T as i,a3 as K,a4 as X,L as C,W as E,a5 as J,K as H,O as W,N as e0,r as l,X as r0,a6 as s0,a7 as c0,_ as o0,a8 as t0}from"./index-D-3i0_ZZ.js";import{S as N}from"./simple-grid-VxbnG-mh.js";import{H as O}from"./heading-BF8XlgKi.js";import{B as n0}from"./badge-BEYrR1ZS.js";import{M as a0}from"./modal-footer-hvXhS1BK.js";import{T as F}from"./tag-CZxeUejg.js";import{A as i0}from"./ComponentsTrial-Du2i7Jey.js";import{a as l0}from"./Cards-QjY21wj5.js";import{s as U}from"./salad-CfBz2q_T.js";import{C as d0}from"./center-frH_QGvs.js";import"./grid-Cpr5m2qk.js";import"./use-controllable-state-CruS74Kk.js";import"./collapse-DifwqhQZ.js";import"./unknownMeal-CabVnnUV.js";import"./Star-j31D29az.js";import"./Minus-aZLYyxDR.js";import"./Add-DYZlXOiv.js";const g0=""+new URL("heroB-BFoEWb6V.jpg",import.meta.url).href,h0=({isOpen:a,onClose:M,meal:f,groupedItems:v,selectedItems:w,handleSelectItem:z,handleQuantityChange:_,calculateTotal:T,totalSelectedItems:m,isArabic:S,t:d,sectionFreeCounts:p,renderSectionHeader:b,renderItemContent:I,onConfirm:R})=>{const j=(g,u)=>{var r;const c=u.filter(s=>w[s.id]>0).reduce((s,o)=>s+(w[o.id]||0),0),t=((r=p[g])==null?void 0:r.value)||0;return{selected:c,free:t,charged:Math.max(0,c-t)}},D=(g,u)=>{const h=j(g,u);if(h.charged===0)return 0;const c=u.filter(s=>w[s.id]>0).sort((s,o)=>(s.addon_price||0)-(o.addon_price||0));let t=0,r=h.free;for(const s of c){const o=w[s.id],n=s.addon_price||0;if(r>=o)r-=o;else if(r>0){const x=o-r;t+=x*n,r=0}else t+=o*n}return t};return e.jsxs($,{isOpen:a,onClose:M,size:"xl",children:[e.jsx(Q,{}),e.jsxs(q,{bg:"white",borderRadius:"md",maxW:"90vw",maxH:"90vh",overflowY:"auto",children:[e.jsx(Z,{children:e.jsxs(k,{justify:"space-between",align:"center",w:"100%",children:[e.jsx(i,{fontSize:"lg",fontWeight:"bold",children:S?f==null?void 0:f.name_arabic:f==null?void 0:f.name}),e.jsxs(i,{fontWeight:"bold",color:"green.600",children:[T().toFixed(2)," ",d("common.currency")]})]})}),e.jsx(K,{}),e.jsxs(X,{children:[e.jsxs(i,{mb:4,fontSize:"sm",color:"gray.600",children:[d("menuPage.selectUpTo")," ",Object.entries(p).map(([g,u],h,c)=>e.jsxs("span",{children:[e.jsx("strong",{children:S?u.key_arabic:g}),": ",u.value," ",d("menuPage.free"),h<c.length-1?", ":""]},g))]}),e.jsx(N,{columns:[1,2],spacing:4,children:Object.entries(v).map(([g,u])=>{var t,r;const h=j(g,u),c=D(g,u);return e.jsxs(C,{mb:6,children:[e.jsxs(k,{justify:"space-between",align:"center",mb:2,children:[e.jsx(O,{size:"sm",color:"brand.700",children:S&&((t=p[g])==null?void 0:t.key_arabic)||g}),e.jsxs(k,{align:"center",gap:2,children:[e.jsxs(i,{fontSize:"xs",color:"gray.500",children:[((r=p[g])==null?void 0:r.value)||0," ",d("menuPage.free")]}),h.selected>0&&e.jsxs(n0,{colorScheme:h.selected<=h.free?"green":"orange",fontSize:"xs",children:[h.selected,"/",h.free+h.charged]})]})]}),c>0&&e.jsx(C,{mb:2,p:2,bg:"orange.50",borderRadius:"md",children:e.jsx(i,{fontSize:"xs",color:"orange.700",children:d("menuPage.extraCharge",{count:h.charged,amount:c.toFixed(2)})||`Extra ${h.charged} items: +${c.toFixed(2)} ${d("common.currency")}`})}),u.map(s=>{const o=(w[s.id]||0)>0,n=w[s.id]||0;return e.jsxs(k,{p:4,borderWidth:1,borderRadius:"md",align:"center",justify:"space-between",bg:o?"blue.50":"white",onClick:()=>z(s),cursor:"pointer",mb:2,children:[e.jsxs(C,{flex:"1",children:[e.jsx(i,{fontWeight:"bold",children:S&&s.name_arabic||s.name}),e.jsxs(i,{fontSize:"sm",color:"gray.600",children:["+",(s.addon_price||0).toFixed(2)," ",d("common.currency"),"/item"]})]}),o&&e.jsxs(k,{direction:["column","column","row"],align:"center",gap:1,onClick:x=>x.stopPropagation(),children:[e.jsx(E,{size:"xs",onClick:x=>_(s.id,1,x),colorScheme:"brand",variant:"outline",children:"+"}),e.jsx(i,{minW:"30px",textAlign:"center",fontWeight:"bold",children:n}),e.jsx(E,{size:"xs",onClick:x=>_(s.id,-1,x),colorScheme:"error",variant:"outline",children:"-"})]})]},s.id)})]},g)})})]}),e.jsx(a0,{children:e.jsxs(k,{align:"center",gap:4,w:"100%",children:[e.jsx(F,{colorScheme:"blue",children:d("menuPage.selectedCount",{count:m})||`Selected: ${m}`}),e.jsxs(F,{colorScheme:"green",children:[d("menuPage.totalPrice")||"Total",": ",T().toFixed(2)," ",d("common.currency")]}),e.jsx(E,{colorScheme:"brand",onClick:R,ml:"auto",isDisabled:m===0,children:d("menuPage.addToCart")||"Add to Cart"})]})})]})]})},u0={Protein:{value:0,key_arabic:"بروتين"},Nuts:{value:1,key_arabic:"مكسرات"},Dressings:{value:2,key_arabic:"الصلصات"},Fruits:{value:1,key_arabic:"الفواكه"},Cheese:{value:0,key_arabic:"جبن"},Greens:{value:2,key_arabic:"الخضار الورقية"},Toppings:{value:3,key_arabic:"الإضافات"},Vegetables:{value:4,key_arabic:"خضروات"}},p0={"salad-fruits":{value:5,key_arabic:"سلطة فواكه"}},m0=({meal:a,selectableItems:M,onhandleAddToCart:f})=>{const v=a.name==="Make your own fruit salad"?p0:u0,{isOpen:w,onOpen:z,onClose:_}=J(),{currentLanguage:T}=H(),{t:m}=W(),{colorMode:S}=e0(),d=T==="ar",[p,b]=l.useState({}),I=M.reduce((c,t)=>{const r=t.section||"Uncategorized";return c[r]||(c[r]=[]),c[r].push(t),c},{}),R=()=>{let c=a.price;const t={};return Object.entries(p).forEach(([r,s])=>{const o=M.find(n=>n.id===r);o&&s>0&&(t[o.section]||(t[o.section]=[]),t[o.section].push({item:o,quantity:s}))}),Object.entries(t).forEach(([r,s])=>{var x;const o=((x=v[r])==null?void 0:x.value)||0;if(s.reduce((y,{quantity:V})=>y+V,0)>o){const y=[...s].sort((P,G)=>(P.item.addon_price||0)-(G.item.addon_price||0));let V=o;for(const{item:P,quantity:G}of y){const A=P.addon_price||0;if(V>=G)V-=G;else if(V>0){const Y=G-V;c+=Y*A,V=0}else c+=G*A}}}),c},j=c=>{b(t=>{if(t[c.id]){const{[c.id]:r,...s}=t;return s}return{...t,[c.id]:1}})},D=(c,t,r)=>{r&&r.stopPropagation(),b(s=>{const n=(s[c]||0)+t;if(n<=0){const{[c]:x,...y}=s;return y}return{...s,[c]:n}})},g=Object.values(p).reduce((c,t)=>c+t,0),u=()=>{const c=Object.entries(p).flatMap(([t,r])=>Array(r).fill(t));f({id:a.id,name:a.name,image:a.image||"",addOns:c,price:R(),qty:1}),_()},h=()=>{b({}),z()};return e.jsxs(e.Fragment,{children:[e.jsxs(C,{maxW:"300px",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",bg:S==="dark"?"gray.800":"secondary.300",transition:"transform 0.3s",_hover:{transform:"translateY(-5px)"},onClick:h,cursor:"pointer",children:[e.jsx(r0,{src:a.image||g0,alt:a.name,height:"200px",width:"100%",objectFit:"cover"}),e.jsxs(C,{p:"4",children:[e.jsxs(k,{justify:"space-between",align:"baseline",mb:"2",children:[e.jsx(O,{size:"md",color:"brand.700",textAlign:"left",isTruncated:!0,children:d?a.name_arabic:a.name}),e.jsxs(i,{fontWeight:"bold",fontSize:"md",color:"gray.800",children:[a.price.toFixed(2)," ",m("common.currency")]})]}),e.jsx(i,{fontSize:"sm",color:"gray.600",mb:"3",noOfLines:2,children:a.description}),e.jsxs(C,{mt:2,children:[e.jsx(i,{fontWeight:"bold",mb:1,children:m("menuPage.chooseItems")}),e.jsx(i,{fontSize:"sm",color:"gray.500",mb:1,children:m("menuPage.freeItems",{count:Object.values(v).reduce((c,t)=>c+t.value,0)})})]})]})]}),e.jsx(h0,{isOpen:w,onClose:_,meal:a,groupedItems:I,selectedItems:p,handleSelectItem:j,handleQuantityChange:D,calculateTotal:R,totalSelectedItems:g,isArabic:d,t:m,sectionFreeCounts:v,renderSectionHeader:(c,t)=>{var r,s;return e.jsxs(k,{justify:"space-between",align:"center",mb:2,children:[e.jsx(O,{size:"sm",color:"brand.700",children:d&&((r=t[c])==null?void 0:r.key_arabic)||c}),e.jsxs(i,{fontSize:"xs",color:"gray.500",children:[((s=t[c])==null?void 0:s.value)||0," ",m("menuPage.free")]})]})},renderItemContent:c=>e.jsxs(C,{children:[e.jsx(i,{fontWeight:"bold",children:c.name}),e.jsxs(i,{fontSize:"sm",color:"gray.600",children:["+",c.addon_price," ",m("common.currency"),"/item"]})]}),onConfirm:u})]})},B="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2064%2064'%20enable-background='new%200%200%2064%2064'%20id='Layer_1'%20version='1.1'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='%236ab99f'%20stroke='%236ab99f'%20stroke-width='0.8320000000000001'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%3e%3cpath%20d='M28,17.143c0-0.534,0-1.271,0-2.084c-0.006-2.19-1.809-3.939-4-3.941h-4.023C19.981,11.077,20,11.042,20,11%20V6c0-0.552-0.448-1-1-1s-1,0.448-1,1v5c0,0.042,0.019,0.077,0.023,0.117H14c-2.191,0.002-3.994,1.751-4,3.941%20c0,0.813,0,1.551,0,2.084C8.28,17.592,7.003,19.141,7,21v34c0.004,2.207,1.793,3.996,4,4h16c2.207-0.004,3.996-1.793,4-4V21%20C30.997,19.141,29.72,17.592,28,17.143z%20M12.582,13.695c0.365-0.357,0.863-0.578,1.418-0.578h10c0.555,0,1.054,0.221,1.418,0.578%20C25.783,14.054,26,14.531,26,15.059c0,0.746,0,1.421,0,1.941H12c0-0.52,0-1.196,0-1.941C12,14.531,12.217,14.054,12.582,13.695z%20M29,55c0,0.55-0.223,1.045-0.588,1.412C28.044,56.777,27.549,57,27,57H11c-0.549,0-1.044-0.223-1.412-0.588%20C9.223,56.045,9,55.55,9,55V21c0-0.549,0.223-1.044,0.588-1.412C9.956,19.223,10.451,19,11,19h16c0.549,0,1.044,0.223,1.412,0.588%20C28.777,19.956,29,20.451,29,21V55z'%20fill='%236ab99f'/%3e%3cpath%20d='M51.545,24.236c0-0.443,0-1.061,0-1.745c0-1.016-0.519-1.906-1.251-2.495%20c-0.736-0.595-1.702-0.937-2.749-0.938H45V15c0-0.552-0.448-1-1-1s-1,0.448-1,1v4.059h-2.545c-1.046,0.001-2.012,0.343-2.749,0.938%20c-0.733,0.589-1.252,1.479-1.251,2.495c0,0.685,0,1.302,0,1.745c-1.439,0.606-2.452,2.028-2.455,3.687V55%20c0.004,2.207,1.793,3.996,4,4h12c2.207-0.004,3.996-1.793,4-4V27.923C53.997,26.265,52.985,24.843,51.545,24.236z%20M38.966,21.55%20c0.351-0.287,0.885-0.493,1.489-0.491h7.091c0.604-0.001,1.138,0.205,1.489,0.491c0.355,0.293,0.511,0.62,0.511,0.941%20c0,0.536,0,1.029,0,1.432H38.455c0-0.403,0-0.896,0-1.432C38.455,22.169,38.611,21.843,38.966,21.55z%20M52,55%20c0,0.55-0.223,1.045-0.588,1.412C51.044,56.777,50.549,57,50,57H38c-0.549,0-1.044-0.223-1.412-0.588C36.223,56.045,36,55.55,36,55%20V27.923c0-0.549,0.223-1.044,0.588-1.412c0.367-0.366,0.862-0.588,1.412-0.588h12c0.549,0,1.044,0.223,1.412,0.588%20C51.777,26.879,52,27.374,52,27.923V55z'%20fill='%236ab99f'/%3e%3cpath%20d='M12,21c-0.552,0-1,0.448-1,1v32c0,0.553,0.448,1,1,1s1-0.447,1-1V22C13,21.448,12.552,21,12,21z'%20fill='%236ab99f'/%3e%3cpath%20d='M39,28c-0.552,0-1,0.448-1,1v25c0,0.553,0.448,1,1,1s1-0.447,1-1V29C40,28.448,39.552,28,39,28z'%20fill='%236ab99f'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",x0=""+new URL("protein-CKpNXmeK.svg",import.meta.url).href,f0="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20fill='%236ab99f'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:none;stroke:%236ab99f;stroke-miterlimit:10;stroke-width:1.91px;}%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='M10.09,14.86a1.9,1.9,0,0,1-1.9-1.79.49.49,0,0,1,0-.12,1.91,1.91,0,0,1,3.71-.62A1.84,1.84,0,0,1,12,13,1.9,1.9,0,0,1,10.09,14.86Z'/%3e%3cpath%20class='cls-1'%20d='M22.5,9.9v8.4L10.89,20.62a1.55,1.55,0,0,0-1.54-1.27,1.58,1.58,0,0,0-1.58,1.57,1.48,1.48,0,0,0,0,.31h0L1.5,22.5V14.1L8,7a1.52,1.52,0,0,0,1.37.81,1.57,1.57,0,0,0,.64-3l3-3.29h1a8.37,8.37,0,0,1,8.4,8.4Z'/%3e%3cpath%20class='cls-1'%20d='M17.82,19.24h0a1.86,1.86,0,0,0,.84-1.55,1.91,1.91,0,0,0-3.82,0,1.87,1.87,0,0,0,1.58,1.83'/%3e%3ccircle%20class='cls-1'%20cx='18.2'%20cy='4.84'%20r='1.91'/%3e%3cline%20class='cls-1'%20x1='22.5'%20y1='9.14'%20x2='11.69'%20y2='11.59'/%3e%3cline%20class='cls-1'%20x1='8.88'%20y1='12.23'%20x2='1.5'%20y2='13.91'/%3e%3c/g%3e%3c/svg%3e",w0=""+new URL("extras-Cp-p2MOx.svg",import.meta.url).href,b0="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%236ab99f'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20297%20297'%20xml:space='preserve'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%3e%3cpath%20d='M259.692,237.233c4.192-18.809,14.832-75.645,14.832-75.645c23.245-18.401,29.323-50.257,14.172-69.98%20c-6.523-8.501-16.413-14.006-27.849-15.5c-14.091-1.839-29.291,2.447-41.93,11.756c-8.219-30.976-36.447-53.87-69.923-53.87%20c-33.221,0-61.266,22.553-69.721,53.171C66.506,77.504,51.01,73.032,36.669,74.906c-11.438,1.491-21.331,6.996-27.857,15.5%20c-7.936,10.342-10.733,24.957-7.483,39.096c2.948,12.825,10.625,23.104,21.989,32.085c0,0,10.677,56.835,14.874,75.645%20c3.222,14.437,18.026,25.775,32.816,25.775h155.867C241.665,263.008,256.474,251.669,259.692,237.233z%20M148.994,53.525%20c28.434,0,51.679,22.638,52.764,50.872c-13.198-4.664-30.079-1.583-43.934,9.09c-2.692,2.075-5.121,4.301-7.297,6.633%20c-4.25-3.363-9.575-7.391-12.406-8.814c-19.112-9.636-32.523-10.603-41.841-7.964C97.896,75.6,120.917,53.525,148.994,53.525z%20M46.087,154.439c-17.789-8.91-23.808-20.979-25.724-29.312c-1.929-8.396-0.418-17.144,3.943-22.828%20c4.287-5.586,10.463-7.446,14.889-8.023c9.418-1.234,19.857,1.946,28.639,8.715c6.386,4.919,11.165,11.155,13.822,18.033%20c1.192,3.083,3.862,5.354,7.098,6.036c3.238,0.682,6.596-0.321,8.93-2.662c6.95-6.97,24.445,0.719,31.618,4.336%20c1.45,0.78,6.258,4.424,10.769,8.033c-2.169,5.911-2.896,11.945-2.079,17.673h-23.156l-70.497-35.311%20c-2.895-1.449-6.413-0.278-7.863,2.614c-1.449,2.894-0.279,6.415,2.614,7.863l49.578,24.833H46.087z%20M240.66,232.835%20c-1.492,5.589-8.015,10.641-13.785,10.641H71.008c-5.77,0-12.292-5.052-13.785-10.641l-12.287-58.864h208.013L240.66,232.835z%20M207.738,154.439l35.071-18.944c2.848-1.538,3.908-5.094,2.371-7.94c-1.538-2.849-5.096-3.907-7.941-2.371l-54.161,29.256h-24.977%20c-2.934-7.239,1.707-17.822,11.644-25.481c10.431-8.035,23.924-9.546,30.078-3.364c2.334,2.341,5.694,3.348,8.928,2.665%20c3.234-0.679,5.907-2.947,7.1-6.03c2.667-6.887,7.448-13.126,13.825-18.041c8.782-6.767,19.224-9.946,28.641-8.712%20c4.425,0.578,10.597,2.439,14.885,8.026c8.752,11.393,3.438,30.24-11.849,42.014c-6.377,4.914-13.617,8.112-20.936,8.924H207.738z'/%3e%3cpath%20d='M148.994,86.259c3.236,0,5.859-2.623,5.859-5.859v-9.771c0-3.235-2.623-5.859-5.859-5.859%20c-3.236,0-5.859,2.624-5.859,5.859V80.4C143.135,83.636,145.758,86.259,148.994,86.259z'/%3e%3cpath%20d='M168.556,93.617c0.922,0.53,1.928,0.783,2.92,0.783c2.026,0,3.998-1.053,5.083-2.936l4.877-8.466%20c1.616-2.804,0.651-6.387-2.152-8.003c-2.805-1.614-6.386-0.652-8.003,2.153l-4.877,8.465%20C164.788,88.418,165.752,92.002,168.556,93.617z'/%3e%3cpath%20d='M121.437,91.466c1.084,1.882,3.056,2.935,5.082,2.935c0.992,0,1.999-0.253,2.92-0.784c2.805-1.616,3.768-5.199,2.151-8.003%20l-4.88-8.465c-1.615-2.805-5.199-3.768-8.002-2.151c-2.805,1.616-3.768,5.199-2.151,8.003L121.437,91.466z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",C0="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:none;stroke:%234d8060;stroke-miterlimit:10;stroke-width:1.91px;}%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='M2.43,11H21.57a0,0,0,0,1,0,0v0a7.65,7.65,0,0,1-7.65,7.65H10.09A7.65,7.65,0,0,1,2.43,11v0a0,0,0,0,1,0,0Z'/%3e%3cpath%20class='cls-1'%20d='M1.48,18.67h21a0,0,0,0,1,0,0v0A3.83,3.83,0,0,1,18.7,22.5H5.3a3.83,3.83,0,0,1-3.83-3.83v0a0,0,0,0,1,0,0Z'/%3e%3cpath%20class='cls-1'%20d='M7.22.5c0,1.11-1,1.11-1,2.23s1,1.12,1,2.23-1,1.12-1,2.24'/%3e%3cpath%20class='cls-1'%20d='M13,1.46c0,1.11-1,1.11-1,2.23s1,1.11,1,2.23S12,7,12,8.15'/%3e%3cpath%20class='cls-1'%20d='M18.7.5c0,1.11-1,1.11-1,2.23s1,1.12,1,2.23-1,1.12-1,2.24'/%3e%3c/g%3e%3c/svg%3e",L="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23387a61'%20width='800px'%20height='800px'%20viewBox='0%200%2032%2032'%20id='orange'%20version='1.1'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20stroke='%23387a61'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M25.2,2.3C25.1,2.1,24.8,2,24.5,2S24,2.1,23.8,2.3L13.1,13.1l0,0l-7.5,7.5c0,0,0,0,0,0c0,0,0,0,0,0l-3.3,3.3%20c-0.4,0.4-0.4,1,0,1.4C5.5,28.4,9.6,30,13.8,30s8.3-1.6,11.5-4.7C31.6,18.9,31.6,8.6,25.2,2.3z%20M13.8,22.2c0.6,0,1-0.4,1-1v-5%20l4.1,4.1c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4l-4.1-4.1h5c0.6,0,1-0.4,1-1s-0.4-1-1-1h-5l5-5%20c3,3.7,2.7,9.2-0.7,12.7c-3.5,3.5-9,3.7-12.7,0.7l5-5v5C12.8,21.7,13.2,22.2,13.8,22.2z%20M23.8,23.8c-2.7,2.7-6.3,4.2-10.1,4.2%20c-3.5,0-6.7-1.2-9.3-3.5l1.9-1.9c2.1,1.8,4.7,2.7,7.4,2.7c3,0,5.9-1.1,8.2-3.4c4.2-4.2,4.5-11,0.7-15.5l1.9-1.9%20C29.4,10,29.1,18.5,23.8,23.8z'/%3e%3c/g%3e%3c/svg%3e",S0="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%201024%201024'%20xmlns='http://www.w3.org/2000/svg'%20fill='%23469577'%20stroke='%23469577'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20fill='%234e9772'%20d='M128%20416v-48a144%20144%200%200%201%20168.64-141.888%20224.128%20224.128%200%200%201%20430.72%200A144%20144%200%200%201%20896%20368v48a384%20384%200%200%201-352%20382.72V896h-64v-97.28A384%20384%200%200%201%20128%20416zm287.104-32.064h193.792a143.808%20143.808%200%200%201%2058.88-132.736%20160.064%20160.064%200%200%200-311.552%200%20143.808%20143.808%200%200%201%2058.88%20132.8zm-72.896%200a72%2072%200%201%200-140.48%200h140.48zm339.584%200h140.416a72%2072%200%201%200-140.48%200zM512%20736a320%20320%200%200%200%20318.4-288.064H193.6A320%20320%200%200%200%20512%20736zM384%20896.064h256a32%2032%200%201%201%200%2064H384a32%2032%200%201%201%200-64z'/%3e%3c/g%3e%3c/svg%3e",A0=()=>{const{t:a}=W(),{currentLanguage:M}=H(),{addToCart:f}=s0(),v=c0(),w=M==="ar",z={Salads:l.useRef(null),Soups:l.useRef(null),Proteins:l.useRef(null),Cheese:l.useRef(null),Extras:l.useRef(null),Dressings:l.useRef(null),Fruits:l.useRef(null),"Make Your Own Salad":l.useRef(null),"Make Your Own Fruit Salad":l.useRef(null),"Our signature salad":l.useRef(null),Desserts:l.useRef(null)},_={Salads:U,Soups:C0,Proteins:x0,Cheese:f0,Extras:w0,Dressings:b0,Fruits:L,"Make Your Own Salad":B,"Make Your Own Fruit Salad":L,"Our signature salad":U,Juices:L,Desserts:S0},T={"make your own fruit salad":"salad-fruits","make your own salad":"salad-items"},{meals:m,fruitItems:S,saladItems:d,elementsLoading:p}=o0(),[b,I]=l.useState([]),[R,j]=l.useState(-1),[D,g]=l.useState({"salad-fruits":[],"salad-items":[]}),[u]=l.useState(!1);l.useEffect(()=>{p||g({"salad-fruits":S||[],"salad-items":d||[]})},[S,d,p]),l.useEffect(()=>{if(!p&&!u&&m.length>0){const r={};m.forEach(o=>{const n=(o.section||"Other").trim().replace(/\s+/g," ").replace(/['"]/g,"");r[n]||(r[n]=[]),r[n].push(o)});const s=Object.keys(r).map(o=>({name:o,name_arabic:r[o][0].section_arabic||o,meals:r[o]}));I(s)}},[m,p,u]),l.useEffect(()=>{var s;const r=(s=v.state)==null?void 0:s.scrollTo;if(r&&b.length>0){console.log("Attempting to navigate to section:",r);const o=b.findIndex(n=>n.name.toLowerCase()===r.toLowerCase());console.log("Found section at index:",o),o!==-1&&(j(o),setTimeout(()=>{const n=document.getElementById(`section-${o}`);n?(console.log("Scrolling to element:",n),n.scrollIntoView({behavior:"smooth",block:"start"}),n.style.boxShadow="0 0 10px rgba(0,255,0,0.5)",setTimeout(()=>{n.style.boxShadow=""},2e3)):console.error("Could not find element with ID:",`section-${o}`)},300))}},[v.state,b]);const h=r=>{console.log("MenuPage received toggle event with:",r),Array.isArray(r)?j(r.length>0?r[0]:-1):j(r)},c=r=>{const s={id:r.id,name:r.name,price:parseFloat(r.price),image:r.image,qty:Number(r.qty)||1,addOns:r.addOns||[]};f(s)},t=b.map(r=>({title:M==="ar"?r.name_arabic||r.name:a(`menuPage.${r.name}`,{defaultValue:r.name}),icon:_[r.name]||B,content:e.jsx(C,{borderStyle:"none",p:4,children:e.jsx(N,{ref:z[r.name],columns:{base:1,md:2,lg:3},spacing:4,children:r.meals.map((s,o)=>{const n=s.policy==="selective";let x=[];if(n){const y=T[s.name.toLowerCase()];y&&(x=D[y])}return n?e.jsx(m0,{meal:s,selectableItems:x,onhandleAddToCart:c},o):e.jsx(l0,{id:s.id,nameArabic:s.name_arabic,name:s.name,description:e.jsxs(C,{children:[e.jsx(i,{children:w?s.ingredients_arabic:s.ingredients}),e.jsxs(i,{children:[a("menuPage.calories"),": ",s.kcal||"N/A"]}),s.protein>0&&e.jsxs(i,{children:[a("menuPage.protein"),": ",s.protein,"g"]}),s.carb>0&&e.jsxs(i,{children:[a("menuPage.carbs"),": ",s.carb,"g"]}),n&&e.jsx(i,{color:"green.500",children:a("menuPage.customizable")})]}),price:s.price,image:s.image||null,rating:s.rating||4,category:r.name,isSelective:n,policy:s.policy},s.id||o)})})},`section-${b.indexOf(r)}`)}));return p||u?e.jsx(d0,{h:"300px",children:e.jsx(t0,{size:"xl"})}):e.jsxs(C,{p:4,children:[e.jsx(O,{mb:6,textStyle:"heading",children:a("menuPage.title",{defaultValue:"Menu"})}),e.jsx(i0,{sections:t,expandedIndex:R,onToggle:h})]})};export{A0 as default};
