import{t as oe,v as re}from"./select-CWzTcnSc.js";import{aA as ce,a9 as P,r as n,ag as S,af as ie,ad as i,ac as a,ae as G}from"./index-D-3i0_ZZ.js";import{u as le}from"./use-form-control-CBGUu0xk.js";function ve(k={}){const J=le(k),{isDisabled:t,isReadOnly:u,isRequired:g,isInvalid:r,id:I,onBlur:Q,onFocus:W,"aria-describedby":B}=J,{defaultChecked:M,isChecked:w,isFocusable:X,onChange:Y,isIndeterminate:c,name:p,value:x,tabIndex:A=void 0,"aria-label":K,"aria-labelledby":U,"aria-invalid":L,...Z}=k,R=ce(Z,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),h=P(Y),q=P(Q),H=P(W),[f,m]=n.useState(!1),[v,O]=n.useState(!1),[y,b]=n.useState(!1),E=n.useRef(!1);n.useEffect(()=>oe(e=>{E.current=e}),[]);const l=n.useRef(null),[T,_]=n.useState(!0),[$,C]=n.useState(!!M),F=w!==void 0,s=F?w:$,V=n.useCallback(e=>{if(u||t){e.preventDefault();return}F||C(s?e.currentTarget.checked:c?!0:e.currentTarget.checked),h==null||h(e)},[u,t,s,F,c,h]);S(()=>{l.current&&(l.current.indeterminate=!!c)},[c]),ie(()=>{t&&m(!1)},[t,m]),S(()=>{const e=l.current;if(!(e!=null&&e.form))return;const o=()=>{C(!!M)};return e.form.addEventListener("reset",o),()=>{var d;return(d=e.form)==null?void 0:d.removeEventListener("reset",o)}},[]);const N=t&&!X,j=n.useCallback(e=>{e.key===" "&&b(!0)},[b]),z=n.useCallback(e=>{e.key===" "&&b(!1)},[b]);S(()=>{if(!l.current)return;l.current.checked!==s&&C(l.current.checked)},[l.current]);const ee=n.useCallback((e={},o=null)=>{const d=D=>{f&&D.preventDefault(),b(!0)};return{...e,ref:o,"data-active":a(y),"data-hover":a(v),"data-checked":a(s),"data-focus":a(f),"data-focus-visible":a(f&&E.current),"data-indeterminate":a(c),"data-disabled":a(t),"data-invalid":a(r),"data-readonly":a(u),"aria-hidden":!0,onMouseDown:i(e.onMouseDown,d),onMouseUp:i(e.onMouseUp,()=>b(!1)),onMouseEnter:i(e.onMouseEnter,()=>O(!0)),onMouseLeave:i(e.onMouseLeave,()=>O(!1))}},[y,s,t,f,v,c,r,u]),ae=n.useCallback((e={},o=null)=>({...e,ref:o,"data-active":a(y),"data-hover":a(v),"data-checked":a(s),"data-focus":a(f),"data-focus-visible":a(f&&E.current),"data-indeterminate":a(c),"data-disabled":a(t),"data-invalid":a(r),"data-readonly":a(u)}),[y,s,t,f,v,c,r,u]),te=n.useCallback((e={},o=null)=>({...R,...e,ref:G(o,d=>{d&&_(d.tagName==="LABEL")}),onClick:i(e.onClick,()=>{var d;T||((d=l.current)==null||d.click(),requestAnimationFrame(()=>{var D;(D=l.current)==null||D.focus({preventScroll:!0})}))}),"data-disabled":a(t),"data-checked":a(s),"data-invalid":a(r)}),[R,t,s,r,T]),ne=n.useCallback((e={},o=null)=>({...e,ref:G(l,o),type:"checkbox",name:p,value:x,id:I,tabIndex:A,onChange:i(e.onChange,V),onBlur:i(e.onBlur,q,()=>m(!1)),onFocus:i(e.onFocus,H,()=>m(!0)),onKeyDown:i(e.onKeyDown,j),onKeyUp:i(e.onKeyUp,z),required:g,checked:s,disabled:N,readOnly:u,"aria-label":K,"aria-labelledby":U,"aria-invalid":L?!!L:r,"aria-describedby":B,"aria-disabled":t,"aria-checked":c?"mixed":s,style:re}),[p,x,I,A,V,q,H,j,z,g,s,N,u,K,U,L,r,B,t,c]),se=n.useCallback((e={},o=null)=>({...e,ref:o,onMouseDown:i(e.onMouseDown,de),"data-disabled":a(t),"data-checked":a(s),"data-invalid":a(r)}),[s,t,r]);return{state:{isInvalid:r,isFocused:f,isChecked:s,isActive:y,isHovered:v,isIndeterminate:c,isDisabled:t,isReadOnly:u,isRequired:g},getRootProps:te,getCheckboxProps:ee,getIndicatorProps:ae,getInputProps:ne,getLabelProps:se,htmlProps:R}}function de(k){k.preventDefault(),k.stopPropagation()}export{ve as u};
